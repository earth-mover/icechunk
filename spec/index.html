<!DOCTYPE html><html class=no-js lang=en> <head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Open-source, cloud-native transactional tensor storage engine" name=description><meta content="Earthmover PBC" name=author><link href=https://icechunk.io/spec/ rel=canonical><link href=../sample-datasets/ rel=prev><link href=../assets/favicon/favicon-96x96.png rel=icon><meta content="mkdocs-1.6.1, mkdocs-material-9.5.40" name=generator><meta content=1 name=readthedocs-addons-api-version><title>Specification - Icechunk</title><link href=../assets/stylesheets/main.8c3ca2c6.min.css rel=stylesheet><link href=../assets/stylesheets/palette.06af60db.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href=../assets/_mkdocstrings.css rel=stylesheet><link href=../stylesheets/theme.css rel=stylesheet><link href=../stylesheets/global.css rel=stylesheet><link href=../stylesheets/notebooks.css rel=stylesheet><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-TNHH1RF342"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-TNHH1RF342",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-TNHH1RF342",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script><meta content=website property=og:type><meta content="Specification - Icechunk" property=og:title><meta content="Open-source, cloud-native transactional tensor storage engine" property=og:description><meta content=https://icechunk.io/assets/images/social/spec.png property=og:image><meta content=image/png property=og:image:type><meta content=1200 property=og:image:width><meta content=630 property=og:image:height><meta content=https://icechunk.io/spec/ property=og:url><meta content=summary_large_image name=twitter:card><meta content="Specification - Icechunk" name=twitter:title><meta content="Open-source, cloud-native transactional tensor storage engine" name=twitter:description><meta content=https://icechunk.io/assets/images/social/spec.png name=twitter:image></head> <body data-md-color-accent=indigo data-md-color-primary=indigo data-md-color-scheme=light dir=ltr> <input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox> <input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a class=md-skip href=#icechunk-specification> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav aria-label=Header class="md-header__inner md-grid"> <a aria-label=Icechunk class="md-header__button md-logo" data-md-component=logo href=.. title=Icechunk> <img alt=logo src=../assets/logo-wire.svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Icechunk </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Specification </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input aria-label="Switch to dark mode" class=md-option data-md-color-accent=indigo data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary=indigo data-md-color-scheme=light id=__palette_0 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_1 hidden title="Switch to dark mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg> </label> <input aria-label="Switch to light mode" class=md-option data-md-color-accent=indigo data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary=indigo data-md-color-scheme=slate id=__palette_1 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_0 hidden title="Switch to light mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input aria-label=Search autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=Search required spellcheck=false type=text> <label class="md-search__icon md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav aria-label=Search class=md-search__options> <button aria-label=Clear class="md-search__icon md-icon" tabindex=-1 title=Clear type=reset> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix tabindex=0> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a class=md-source data-md-component=source href=https://github.com/earth-mover/icechunk title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class=md-source__repository> earth-mover/icechunk </div> </a> </div> </nav> <nav aria-label=Tabs class=md-tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a class=md-tabs__link href=..> Home </a> </li> <li class=md-tabs__item> <a href=../overview/ class=md-tabs__link> Overview </a> </li> <li class=md-tabs__item> <a href=../faq/ class=md-tabs__link> FAQ </a> </li> <li class=md-tabs__item> <a href=../icechunk-python/quickstart/ class=md-tabs__link> Icechunk Python </a> </li> <li class=md-tabs__item> <a href=../icechunk-rust/ class=md-tabs__link> Icechunk Rust </a> </li> <li class=md-tabs__item> <a href=../contributing/ class=md-tabs__link> Contributing </a> </li> <li class=md-tabs__item> <a href=../sample-datasets/ class=md-tabs__link> Sample Datasets </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=./ class=md-tabs__link> Spec </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <!--
NOTE:
    We are overriding this partial to remove default behavior of hiding sidebar menu when using tabs.
    (remove md-nav--lifted class from <nav>)
    @see https://github.com/squidfunk/mkdocs-material/blob/master/src/templates/partials/nav.html#L28
--> <!-- Determine classes --> <!-- Navigation --> <nav aria-label=Navigation class="md-nav md-nav--primary" data-md-level=0> <!-- Site title --> <label class=md-nav__title for=__drawer> <a aria-label=Icechunk class="md-nav__button md-logo" data-md-component=logo href=.. title=Icechunk> <img alt=logo src=../assets/logo-wire.svg> </a> Icechunk </label> <!-- Repository information --> <div class=md-nav__source> <a class=md-source data-md-component=source href=https://github.com/earth-mover/icechunk title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class=md-source__repository> earth-mover/icechunk </div> </a> </div> <!-- Navigation list --> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=..> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../faq/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_4 type=checkbox> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Icechunk Python </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_4_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Icechunk Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../icechunk-python/quickstart/ class=md-nav__link> <span class=md-ellipsis> Quickstart </span> </a> </li> <li class=md-nav__item> <a href=../icechunk-python/configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../icechunk-python/faq/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> <li class=md-nav__item> <a href=../icechunk-python/xarray/ class=md-nav__link> <span class=md-ellipsis> Xarray </span> </a> </li> <li class=md-nav__item> <a href=../icechunk-python/parallel/ class=md-nav__link> <span class=md-ellipsis> Parallel Writes </span> </a> </li> <li class=md-nav__item> <a href=../icechunk-python/dask/ class=md-nav__link> <span class=md-ellipsis> Dask </span> </a> </li> <li class=md-nav__item> <a href=../icechunk-python/version-control/ class=md-nav__link> <span class=md-ellipsis> Version Control </span> </a> </li> <li class=md-nav__item> <a href=../icechunk-python/virtual/ class=md-nav__link> <span class=md-ellipsis> Virtual Datasets </span> </a> </li> <li class=md-nav__item> <a href=../icechunk-python/reference/ class=md-nav__link> <span class=md-ellipsis> API Reference </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_4_10 type=checkbox> <label class=md-nav__link for=__nav_4_10 id=__nav_4_10_label tabindex=0> <span class=md-ellipsis> Cheatsheets </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_4_10_label class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_10> <span class="md-nav__icon md-icon"></span> Cheatsheets </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../icechunk-python/cheatsheets/git-users/ class=md-nav__link> <span class=md-ellipsis> Icechunk for Git Users </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../icechunk-rust/ class=md-nav__link> <span class=md-ellipsis> Icechunk Rust </span> </a> </li> <li class=md-nav__item> <a href=../contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> <li class=md-nav__item> <a href=../sample-datasets/ class=md-nav__link> <span class=md-ellipsis> Sample Datasets </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" id=__toc type=checkbox> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Spec </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Spec </span> </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#introduction> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#goals> <span class=md-ellipsis> Goals </span> </a> <nav aria-label=Goals class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#non-goals> <span class=md-ellipsis> Non Goals </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#storage-operations> <span class=md-ellipsis> Storage Operations </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#specification> <span class=md-ellipsis> Specification </span> </a> <nav aria-label=Specification class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#overview> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#file-layout> <span class=md-ellipsis> File Layout </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#file-formats> <span class=md-ellipsis> File Formats </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#reference-files> <span class=md-ellipsis> Reference Files </span> </a> <nav aria-label="Reference Files" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#creating-and-updating-branches> <span class=md-ellipsis> Creating and Updating Branches </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#tags> <span class=md-ellipsis> Tags </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#snapshot-files> <span class=md-ellipsis> Snapshot Files </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#attributes-files> <span class=md-ellipsis> Attributes Files </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#chunk-manifest-files> <span class=md-ellipsis> Chunk Manifest Files </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#chunk-files> <span class=md-ellipsis> Chunk Files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#algorithms> <span class=md-ellipsis> Algorithms </span> </a> <nav aria-label=Algorithms class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#initialize-new-repository> <span class=md-ellipsis> Initialize New Repository </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#read-from-repository> <span class=md-ellipsis> Read from Repository </span> </a> <nav aria-label="Read from Repository" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#from-snapshot-id> <span class=md-ellipsis> From Snapshot ID </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#from-branch> <span class=md-ellipsis> From Branch </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#from-tag> <span class=md-ellipsis> From Tag </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#write-new-snapshot> <span class=md-ellipsis> Write New Snapshot </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#create-new-tag> <span class=md-ellipsis> Create New Tag </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#introduction> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#goals> <span class=md-ellipsis> Goals </span> </a> <nav aria-label=Goals class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#non-goals> <span class=md-ellipsis> Non Goals </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#storage-operations> <span class=md-ellipsis> Storage Operations </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#specification> <span class=md-ellipsis> Specification </span> </a> <nav aria-label=Specification class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#overview> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#file-layout> <span class=md-ellipsis> File Layout </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#file-formats> <span class=md-ellipsis> File Formats </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#reference-files> <span class=md-ellipsis> Reference Files </span> </a> <nav aria-label="Reference Files" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#creating-and-updating-branches> <span class=md-ellipsis> Creating and Updating Branches </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#tags> <span class=md-ellipsis> Tags </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#snapshot-files> <span class=md-ellipsis> Snapshot Files </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#attributes-files> <span class=md-ellipsis> Attributes Files </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#chunk-manifest-files> <span class=md-ellipsis> Chunk Manifest Files </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#chunk-files> <span class=md-ellipsis> Chunk Files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#algorithms> <span class=md-ellipsis> Algorithms </span> </a> <nav aria-label=Algorithms class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#initialize-new-repository> <span class=md-ellipsis> Initialize New Repository </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#read-from-repository> <span class=md-ellipsis> Read from Repository </span> </a> <nav aria-label="Read from Repository" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#from-snapshot-id> <span class=md-ellipsis> From Snapshot ID </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#from-branch> <span class=md-ellipsis> From Branch </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#from-tag> <span class=md-ellipsis> From Tag </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#write-new-snapshot> <span class=md-ellipsis> Write New Snapshot </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#create-new-tag> <span class=md-ellipsis> Create New Tag </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <p><a href=/ >Home</a> / spec</p> <h1 id=icechunk-specification>Icechunk Specification</h1> <p><strong>!!! Note:</strong> The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href=https://www.rfc-editor.org/rfc/rfc2119.html>RFC 2119</a>.</p> <h2 id=introduction>Introduction</h2> <p>The Icechunk specification is a storage specification for <a href=https://zarr-specs.readthedocs.io/en/latest/specs.html>Zarr</a> data. Icechunk is inspired by Apache Iceberg and borrows many concepts and ideas from the <a href=https://iceberg.apache.org/spec/#version-2-row-level-deletes>Iceberg Spec</a>.</p> <p>This specification describes a single Icechunk <strong>repository</strong>. A repository is defined as a Zarr store containing one or more Arrays and Groups. The most common scenario is for a repository to contain a single Zarr group with multiple arrays, each corresponding to different physical variables but sharing common spatiotemporal coordinates. However, formally a repository can be any valid Zarr hierarchy, from a single Array to a deeply nested structure of Groups and Arrays. Users of Icechunk should aim to scope their repository only to related arrays and groups that require consistent transactional updates.</p> <p>Icechunk defines a series of interconnected metadata and data files that together comprise the format. All the data and metadata for a repository are stored in a directory in object storage or file storage.</p> <h2 id=goals>Goals</h2> <p>The goals of the specification are as follows:</p> <ol> <li><strong>Object storage</strong> - the format is designed around the consistency features and performance characteristics available in modern cloud object storage. No external database or catalog is required.</li> <li><strong>Serializable isolation</strong> - Reads will be isolated from concurrent writes and always use a committed snapshot of a repository. Writes to repositories will be committed atomically and will not be partially visible. Readers will not acquire locks.</li> <li><strong>Time travel</strong> - Previous snapshots of a repository remain accessible after new ones have been written.</li> <li><strong>Chunk sharding and references</strong> - Chunk storage is decoupled from specific file names. Multiple chunks can be packed into a single object (sharding). Zarr-compatible chunks within other file formats (e.g. HDF5, NetCDF) can be referenced.</li> <li><strong>Schema Evolution</strong> - Arrays and Groups can be added, renamed, and removed from the hierarchy with minimal overhead.</li> </ol> <h3 id=non-goals>Non Goals</h3> <ol> <li><strong>Low Latency</strong> - Icechunk is designed to support analytical workloads for large repositories. We accept that the extra layers of metadata files and indirection will introduce additional cold-start latency compared to regular Zarr.</li> <li><strong>No Catalog</strong> - The spec does not extend beyond a single repository or provide a way to organize multiple repositories into a hierarchy.</li> <li><strong>Access Controls</strong> - Access control is the responsibility of the storage medium. The spec is not designed to enable fine-grained access restrictions (e.g. only read specific arrays) within a single repository.</li> </ol> <h3 id=storage-operations>Storage Operations</h3> <p>Icechunk requires that the storage system support the following operations:</p> <ul> <li><strong>In-place write</strong> - Strong read-after-write and list-after-write consistency is expected. Files are not moved or altered once they are written.</li> <li><strong>Conditional write if-not-exists</strong> - For the commit process to be safe and consistent, the storage system must guard against two files of the same name being created at the same time.</li> <li><strong>Seekable reads</strong> - Chunk file formats may require seek support (e.g. shards).</li> <li><strong>Deletes</strong> - Delete files that are no longer used (via a garbage-collection operation).</li> <li><strong>Sorted List</strong> - The storage system must allow the listing of directories / prefixes in a consistent sorted order.</li> </ul> <p>These requirements are compatible with object stores, like S3, as well as with filesystems.</p> <p>The storage system is not required to support random-access writes. Once written, chunk and metadata files are immutable until they are deleted.</p> <h2 id=specification>Specification</h2> <h3 id=overview>Overview</h3> <p>Icechunk uses a series of linked metadata files to describe the state of the repository.</p> <ul> <li>The <strong>Snapshot file</strong> records all of the different arrays and groups in the repository, plus their metadata. Every new commit creates a new snapshot file. The snapshot file contains pointers to one or more chunk manifest files and [optionally] attribute files.</li> <li><strong>Chunk manifests</strong> store references to individual chunks. A single manifest may store references for multiple arrays or a subset of all the references for a single array.</li> <li><strong>Attributes files</strong> provide a way to store additional user-defined attributes for arrays and groups outside of the structure file. This is important if attributes are very large, otherwise, they will be stored inline in the snapshot file.</li> <li><strong>Chunk files</strong> store the actual compressed chunk data, potentially containing data for multiple chunks in a single file.</li> <li><strong>Reference files</strong> track the state of branches and tags, containing a lightweight pointer to a snapshot file. Transactions on a branch are committed by creating the next branch file in a sequence.</li> </ul> <p>When reading from object store, the client opens the latest branch or tag file to obtain a pointer to the relevant snapshot file. The client then reads the snapshot file to determine the structure and hierarchy of the repository. When fetching data from an array, the client first examines the chunk manifest file[s] for that array and finally fetches the chunks referenced therein.</p> <p>When writing a new repository snapshot, the client first writes a new set of chunks and chunk manifests, and then generates a new snapshot file. Finally, in an atomic put-if-not-exists operation, to commit the transaction, it creates the next branch file in the sequence. This operation may fail if a different client has already committed the next snapshot. In this case, the client may attempt to resolve the conflicts and retry the commit.</p> <pre class=mermaid><code>flowchart TD
    subgraph metadata[Metadata]
    subgraph reference_files[Reference Files]
    old_branch[Main Branch File 001]
    branch[Main Branch File 002]
    end
    subgraph snapshots[Snapshots]
    snapshot1[Snapshot File 1]
    snapshot2[Snapshot File 2]
    end
    subgraph attributes[Attributes]
    attrs[Attribute File]
    end
    subgraph manifests[Manifests]
    manifestA[Chunk Manifest A]
    manifestB[Chunk Manifest B]
    end
    end
    subgraph data
    chunk1[Chunk File 1]
    chunk2[Chunk File 2]
    chunk3[Chunk File 3]
    chunk4[Chunk File 4]
    end

    branch -- snapshot ID --&gt; snapshot2
    snapshot1 --&gt; attrs
    snapshot1 --&gt; manifestA
    snapshot2 --&gt; attrs
    snapshot2 --&gt;manifestA
    snapshot2 --&gt;manifestB
    manifestA --&gt; chunk1
    manifestA --&gt; chunk2
    manifestB --&gt; chunk3
    manifestB --&gt; chunk4

</code></pre> <h3 id=file-layout>File Layout</h3> <p>All data and metadata files are stored within a root directory (typically a prefix within an object store) using the following directory structure.</p> <ul> <li><code>$ROOT</code> base URI (s3, gcs, local directory, etc.)</li> <li><code>$ROOT/refs/</code> reference files</li> <li><code>$ROOT/snapshots/</code> snapshot files</li> <li><code>$ROOT/attributes/</code> attribute files</li> <li><code>$ROOT/manifests/</code> chunk manifests</li> <li><code>$ROOT/chunks/</code> chunks</li> </ul> <h3 id=file-formats>File Formats</h3> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>The actual file formats used for each type of metadata file are in flux. The spec currently describes the data structures encoded in these files, rather than a specific file format.</p> </div> <h3 id=reference-files>Reference Files</h3> <p>Similar to Git, Icechunk supports the concept of <em>branches</em> and <em>tags</em>. These references point to a specific snapshot of the repository.</p> <ul> <li><strong>Branches</strong> are <em>mutable</em> references to a snapshot. Repositories may have one or more branches. The default branch name is <code>main</code>. Repositories must always have a <code>main</code> branch, which is used to detect the existence of a valid repository in a given path. After creation, branches may be updated to point to a different snapshot.</li> <li><strong>Tags</strong> are <em>immutable</em> references to a snapshot. A repository may contain zero or more tags. After creation, tags may never be updated, unlike in Git.</li> </ul> <p>References are very important in the Icechunk design. Creating or updating references is the point at which consistency and atomicity of Icechunk transactions is enforced. Different client sessions may simultaneously create two inconsistent snapshots; however, only one session may successfully update a reference to point it to its snapshot.</p> <p>References (both branches and tags) are stored as JSON files, the content is a JSON object with:</p> <ul> <li>keys: a single key <code>"snapshot"</code>,</li> <li>value: a string representation of the snapshot id, using <a href=https://www.crockford.com/base32.html>Base 32 Crockford</a> encoding. The snapshot id is 12 byte random binary, so the encoded string has 20 characters.</li> </ul> <p>Here is an example of a JSON file corresponding to a tag or branch:</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=p>{</span><span class=nt>"snapshot"</span><span class=p>:</span><span class=s2>"VY76P925PRY57WFEK410"</span><span class=p>}</span>
</span></code></pre></div> <h4 id=creating-and-updating-branches>Creating and Updating Branches</h4> <p>The process of creating and updating branches is designed to use the limited consistency guarantees offered by object storage to ensure transactional consistency. When a client checks out a branch, it obtains a specific snapshot ID and uses this snapshot as the basis for any changes it creates during its session. The client creates a new snapshot and then updates the branch reference to point to the new snapshot (a "commit"). However, when updating the branch reference, the client must detect whether a <em>different session</em> has updated the branch reference in the interim, possibly retrying or failing the commit if so. This is an "optimistic concurrency" strategy; the resolution mechanism can be expensive, but conflicts are expected to be infrequent.</p> <p>All popular object stores support a "create if not exists" operation. In other words, object stores can guard against the race condition which occurs when two sessions attempt to create the same file at the same time. This motivates the design of Icechunk's branch file naming convention.</p> <p>Each commit to an Icechunk branch augments a counter called the <em>sequence number</em>. The first commit creates sequence number 0. The next commit creates sequence number 1. Etc. This sequence number is encoded into the branch reference file name.</p> <p>When a client checks out a branch, it keeps track of its current sequence number <em>N</em>. When it tries to commit, it attempts to create the file corresponding to sequence number <em>N + 1</em> in an atomic "create if not exists" operation. If this succeeds, the commit is successful. If this fails (because another client created that file already), the commit fails. At this point, the client may choose to retry its commit (possibly re-reading the updated data) and then create sequence number <em>N + 2</em>.</p> <p>Branch references are stored in the <code>refs/</code> directory within a subdirectory corresponding to the branch name prepended by the string <code>branch.</code>: <code>refs/branch.$BRANCH_NAME/</code>. Branch names may not contain the <code>/</code> character.</p> <p>To facilitate easy lookups of the latest branch reference, we use the following encoding for the sequence number: - subtract the sequence number from the integer <code>1099511627775</code> - encode the resulting integer as a string using <a href=https://www.crockford.com/base32.html>Base 32 Crockford</a> - left-padding the string with 0s to a length of 8 characters This produces a deterministic sequence of branch file names in which the latest sequence always appears first when sorted lexicographically, facilitating easy lookup by listing the object store.</p> <p>The full branch file name is then given by <code>refs/branch.$BRANCH_NAME/$ENCODED_SEQUENCE.json</code>.</p> <p>For example, the first main branch file is in a store, corresponding with sequence number 0, is always named <code>refs/branch.main/ZZZZZZZZ.json</code>. The branch file for sequence number 100 is <code>refs/branch.main/ZZZZZZWV.json</code>. The maximum number of commits allowed in an Icechunk repository is consequently <code>1099511627775</code>, corresponding to the state file <code>refs/branch.main/00000000.json</code>.</p> <h4 id=tags>Tags</h4> <p>Since tags are immutable, they are simpler than branches.</p> <p>Tag files follow the pattern <code>refs/tag.$TAG_NAME/ref.json</code>.</p> <p>Tag names may not contain the <code>/</code> character.</p> <p>When creating a new tag, the client attempts to create the tag file using a "create if not exists" operation. If successful, the tag is created successful. If not, that means another client has already created that tag.</p> <p>Tags cannot be deleted once created.</p> <h3 id=snapshot-files>Snapshot Files</h3> <p>The snapshot file fully describes the schema of the repository, including all arrays and groups.</p> <p>The snapshot file is currently encoded using <a href=https://msgpack.org/ >MessagePack</a>, but this may change before Icechunk version 1.0. Given the alpha status of this spec, the best way to understand the information stored in the snapshot file is through the data structure used internally by the Icechunk library for serialization. This data structure will most certainly change before the spec stabilization:</p> <div class="language-rust highlight"><pre><span></span><code><span id=__span-1-1><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=k>pub</span><span class=w> </span><span class=k>struct</span><span class=w> </span><span class=nc>Snapshot</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-2><a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>icechunk_snapshot_format_version</span><span class=p>:</span><span class=w> </span><span class=nc>IcechunkFormatVersion</span><span class=p>,</span>
</span><span id=__span-1-3><a href=#__codelineno-1-3 id=__codelineno-1-3 name=__codelineno-1-3></a><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>icechunk_snapshot_format_flags</span><span class=p>:</span><span class=w> </span><span class=nc>BTreeMap</span><span class=o>&lt;</span><span class=nb>String</span><span class=p>,</span><span class=w> </span><span class=n>rmpv</span><span class=p>::</span><span class=n>Value</span><span class=o>&gt;</span><span class=p>,</span>
</span><span id=__span-1-4><a href=#__codelineno-1-4 id=__codelineno-1-4 name=__codelineno-1-4></a>
</span><span id=__span-1-5><a href=#__codelineno-1-5 id=__codelineno-1-5 name=__codelineno-1-5></a><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>manifest_files</span><span class=p>:</span><span class=w> </span><span class=nb>Vec</span><span class=o>&lt;</span><span class=n>ManifestFileInfo</span><span class=o>&gt;</span><span class=p>,</span>
</span><span id=__span-1-6><a href=#__codelineno-1-6 id=__codelineno-1-6 name=__codelineno-1-6></a><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>attribute_files</span><span class=p>:</span><span class=w> </span><span class=nb>Vec</span><span class=o>&lt;</span><span class=n>AttributeFileInfo</span><span class=o>&gt;</span><span class=p>,</span>
</span><span id=__span-1-7><a href=#__codelineno-1-7 id=__codelineno-1-7 name=__codelineno-1-7></a>
</span><span id=__span-1-8><a href=#__codelineno-1-8 id=__codelineno-1-8 name=__codelineno-1-8></a><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>total_parents</span><span class=p>:</span><span class=w> </span><span class=kt>u32</span><span class=p>,</span>
</span><span id=__span-1-9><a href=#__codelineno-1-9 id=__codelineno-1-9 name=__codelineno-1-9></a><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>short_term_parents</span><span class=p>:</span><span class=w> </span><span class=kt>u16</span><span class=p>,</span>
</span><span id=__span-1-10><a href=#__codelineno-1-10 id=__codelineno-1-10 name=__codelineno-1-10></a><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>short_term_history</span><span class=p>:</span><span class=w> </span><span class=nc>VecDeque</span><span class=o>&lt;</span><span class=n>SnapshotMetadata</span><span class=o>&gt;</span><span class=p>,</span>
</span><span id=__span-1-11><a href=#__codelineno-1-11 id=__codelineno-1-11 name=__codelineno-1-11></a>
</span><span id=__span-1-12><a href=#__codelineno-1-12 id=__codelineno-1-12 name=__codelineno-1-12></a><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>metadata</span><span class=p>:</span><span class=w> </span><span class=nc>SnapshotMetadata</span><span class=p>,</span>
</span><span id=__span-1-13><a href=#__codelineno-1-13 id=__codelineno-1-13 name=__codelineno-1-13></a><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>started_at</span><span class=p>:</span><span class=w> </span><span class=nc>DateTime</span><span class=o>&lt;</span><span class=n>Utc</span><span class=o>&gt;</span><span class=p>,</span>
</span><span id=__span-1-14><a href=#__codelineno-1-14 id=__codelineno-1-14 name=__codelineno-1-14></a><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>properties</span><span class=p>:</span><span class=w> </span><span class=nc>SnapshotProperties</span><span class=p>,</span>
</span><span id=__span-1-15><a href=#__codelineno-1-15 id=__codelineno-1-15 name=__codelineno-1-15></a><span class=w>    </span><span class=n>nodes</span><span class=p>:</span><span class=w> </span><span class=nc>BTreeMap</span><span class=o>&lt;</span><span class=n>Path</span><span class=p>,</span><span class=w> </span><span class=n>NodeSnapshot</span><span class=o>&gt;</span><span class=p>,</span>
</span><span id=__span-1-16><a href=#__codelineno-1-16 id=__codelineno-1-16 name=__codelineno-1-16></a><span class=p>}</span>
</span></code></pre></div> <p>To get full details on what each field contains, please refer to the <a href=https://github.com/earth-mover/icechunk/blob/f460a56577ec560c4debfd89e401a98153cd3560/icechunk/src/format/snapshot.rs#L97>Icechunk library code</a>.</p> <h3 id=attributes-files>Attributes Files</h3> <p>Attribute files hold user-defined attributes separately from the snapshot file.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Attribute files have not been implemented.</p> </div> <p>The on-disk format for attribute files has not been defined yet, but it will probably be a MessagePack serialization of the attributes map.</p> <h3 id=chunk-manifest-files>Chunk Manifest Files</h3> <p>A chunk manifest file stores chunk references. Chunk references from multiple arrays can be stored in the same chunk manifest. The chunks from a single array can also be spread across multiple manifests.</p> <p>Manifest files are currently encoded using <a href=https://msgpack.org/ >MessagePack</a>, but this may change before Icechunk version 1.0. Given the alpha status of this spec, the best way to understand the information stored in the snapshot file is through the data structure used internally by the Icechunk library. This data structure will most certainly change before the spec stabilization:</p> <div class="language-rust highlight"><pre><span></span><code><span id=__span-2-1><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=k>pub</span><span class=w> </span><span class=k>struct</span><span class=w> </span><span class=nc>Manifest</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-2><a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>icechunk_manifest_format_version</span><span class=p>:</span><span class=w> </span><span class=nc>IcechunkFormatVersion</span><span class=p>,</span>
</span><span id=__span-2-3><a href=#__codelineno-2-3 id=__codelineno-2-3 name=__codelineno-2-3></a><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>icechunk_manifest_format_flags</span><span class=p>:</span><span class=w> </span><span class=nc>BTreeMap</span><span class=o>&lt;</span><span class=nb>String</span><span class=p>,</span><span class=w> </span><span class=n>rmpv</span><span class=p>::</span><span class=n>Value</span><span class=o>&gt;</span><span class=p>,</span>
</span><span id=__span-2-4><a href=#__codelineno-2-4 id=__codelineno-2-4 name=__codelineno-2-4></a><span class=w>    </span><span class=n>chunks</span><span class=p>:</span><span class=w> </span><span class=nc>BTreeMap</span><span class=o>&lt;</span><span class=p>(</span><span class=n>NodeId</span><span class=p>,</span><span class=w> </span><span class=n>ChunkIndices</span><span class=p>),</span><span class=w> </span><span class=n>ChunkPayload</span><span class=o>&gt;</span><span class=p>,</span>
</span><span id=__span-2-5><a href=#__codelineno-2-5 id=__codelineno-2-5 name=__codelineno-2-5></a><span class=p>}</span>
</span><span id=__span-2-6><a href=#__codelineno-2-6 id=__codelineno-2-6 name=__codelineno-2-6></a>
</span><span id=__span-2-7><a href=#__codelineno-2-7 id=__codelineno-2-7 name=__codelineno-2-7></a><span class=k>pub</span><span class=w> </span><span class=k>enum</span><span class=w> </span><span class=nc>ChunkPayload</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-8><a href=#__codelineno-2-8 id=__codelineno-2-8 name=__codelineno-2-8></a><span class=w>    </span><span class=n>Inline</span><span class=p>(</span><span class=n>Bytes</span><span class=p>),</span>
</span><span id=__span-2-9><a href=#__codelineno-2-9 id=__codelineno-2-9 name=__codelineno-2-9></a><span class=w>    </span><span class=n>Virtual</span><span class=p>(</span><span class=n>VirtualChunkRef</span><span class=p>),</span>
</span><span id=__span-2-10><a href=#__codelineno-2-10 id=__codelineno-2-10 name=__codelineno-2-10></a><span class=w>    </span><span class=n>Ref</span><span class=p>(</span><span class=n>ChunkRef</span><span class=p>),</span>
</span><span id=__span-2-11><a href=#__codelineno-2-11 id=__codelineno-2-11 name=__codelineno-2-11></a><span class=p>}</span>
</span></code></pre></div> <p>The most important part to understand from the data structure is the fact that manifests can hold three types of references:</p> <ul> <li>Native (<code>Ref</code>), pointing to the id of a chunk within the Icechunk repository.</li> <li>Inline (<code>Inline</code>), an optimization for very small chunks that can be embedded directly in the manifest. Mostly used for coordinate arrays.</li> <li>Virtual (<code>Virtual</code>), pointing to a region of a file outside of the Icechunk repository, for example, a chunk that is inside a NetCDF file in object store</li> </ul> <p>To get full details on what each field contains, please refer to the <a href=https://github.com/earth-mover/icechunk/blob/f460a56577ec560c4debfd89e401a98153cd3560/icechunk/src/format/manifest.rs#L106>Icechunk library code</a>.</p> <h3 id=chunk-files>Chunk Files</h3> <p>Chunk files contain the compressed binary chunks of a Zarr array. Icechunk permits quite a bit of flexibility about how chunks are stored. Chunk files can be:</p> <ul> <li>One chunk per chunk file (i.e. standard Zarr)</li> <li>Multiple contiguous chunks from the same array in a single chunk file (similar to Zarr V3 shards)</li> <li>Chunks from multiple different arrays in the same file</li> <li>Other file types (e.g. NetCDF, HDF5) which contain Zarr-compatible chunks</li> </ul> <p>Applications may choose to arrange chunks within files in different ways to optimize I/O patterns.</p> <h2 id=algorithms>Algorithms</h2> <h3 id=initialize-new-repository>Initialize New Repository</h3> <p>A new repository is initialized by creating a new [possibly empty] snapshot file and then creating the first file in the main branch sequence.</p> <p>If another client attempts to initialize a repository in the same location, only one can succeed.</p> <h3 id=read-from-repository>Read from Repository</h3> <h4 id=from-snapshot-id>From Snapshot ID</h4> <p>If the specific snapshot ID is known, a client can open it directly in read only mode.</p> <ol> <li>Use the specified snapshot ID to fetch the snapshot file.</li> <li>Fetch desired attributes and values from arrays.</li> </ol> <h4 id=from-branch>From Branch</h4> <p>Usually, a client will want to read from the latest branch (e.g. <code>main</code>).</p> <ol> <li>List the object store prefix <code>refs/branch.$BRANCH_NAME/</code> to obtain the latest branch file in the sequence. Due to the encoding of the sequence number, this should be the <em>first file</em> in lexicographical order.</li> <li>Read the branch file JSON contents to obtain the snapshot ID.</li> <li>Use the snapshot ID to fetch the snapshot file.</li> <li>Fetch desired attributes and values from arrays.</li> </ol> <h4 id=from-tag>From Tag</h4> <ol> <li>Read the tag file found at <code>refs/tag.$TAG_NAME/ref.json</code> to obtain the snapshot ID.</li> <li>Use the snapshot ID to fetch the snapshot file.</li> <li>Fetch desired attributes and values from arrays.</li> </ol> <h3 id=write-new-snapshot>Write New Snapshot</h3> <ol> <li>Open a repository at a specific branch as described above, keeping track of the sequence number and branch name in the session context.</li> <li>[optional] Write new chunk files.</li> <li>[optional] Write new chunk manifests.</li> <li>Write a new snapshot file.</li> <li>Attempt to write the next branch file in the sequence<ol> <li>If successful, the commit succeeded and the branch is updated.</li> <li>If unsuccessful, attempt to reconcile and retry the commit.</li> </ol> </li> </ol> <h3 id=create-new-tag>Create New Tag</h3> <p>A tag can be created from any snapshot.</p> <ol> <li>Open the repository at a specific snapshot.</li> <li>Attempt to create the tag file. a. If successful, the tag was created. b. If unsuccessful, the tag already exists.</li> </ol> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">January 31, 2025</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Contributors> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"></path></svg> </span> <nav> <a href=mailto:code@amisdelabc.com>Sebastián Galkin</a> </nav> </span> </aside> <form class=md-feedback hidden name=feedback> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" data-md-value=1 title="This page was helpful" type=submit> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"></path></svg> </button> <button class="md-feedback__icon md-icon" data-md-value=0 title="This page could be improved" type=submit> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"></path></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by using our <a href=https://share.hsforms.com/10yWXT95yS6mWXg3bc1e4PQdl5u6 rel=noopener target=_blank>feedback form</a>. </div> </div> </div> </fieldset> </form> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button class="md-top md-icon" data-md-component=top hidden type=button> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> Back to top </button> </main> <footer class=md-footer> <nav aria-label=Footer class="md-footer__inner md-grid"> <a aria-label="Previous: Sample Datasets" href=../sample-datasets/ class="md-footer__link md-footer__link--prev"> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Sample Datasets </div> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright © 2025 <a href=https://earthmover.io target=_blank>Earthmover PBC</a> </div> </div> <div class=md-social> <a class=md-social__link href=https://github.com/earth-mover/icechunk rel=noopener target=_blank title=github.com> <svg viewbox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </a> <a class=md-social__link href=https://pypi.org/project/icechunk/ rel=noopener target=_blank title=pypi.org> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3"></path></svg> </a> <a class=md-social__link href=https://crates.io/crates/icechunk rel=noopener target=_blank title=crates.io> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m508.52 249.75-21.82-13.51c-.17-2-.34-3.93-.55-5.88l18.72-17.5a7.35 7.35 0 0 0-2.44-12.25l-24-9c-.54-1.88-1.08-3.78-1.67-5.64l15-20.83a7.35 7.35 0 0 0-4.79-11.54l-25.42-4.15c-.9-1.73-1.79-3.45-2.73-5.15l10.68-23.42a7.35 7.35 0 0 0-6.95-10.39l-25.82.91q-1.79-2.22-3.61-4.4L439 81.84a7.36 7.36 0 0 0-8.84-8.84L405 78.93q-2.17-1.83-4.4-3.61l.91-25.82a7.35 7.35 0 0 0-10.39-7L367.7 53.23c-1.7-.94-3.43-1.84-5.15-2.73l-4.15-25.42a7.35 7.35 0 0 0-11.54-4.79L326 35.26c-1.86-.59-3.75-1.13-5.64-1.67l-9-24a7.35 7.35 0 0 0-12.25-2.44l-17.5 18.72c-1.95-.21-3.91-.38-5.88-.55L262.25 3.48a7.35 7.35 0 0 0-12.5 0L236.24 25.3c-2 .17-3.93.34-5.88.55l-17.5-18.72a7.35 7.35 0 0 0-12.25 2.44l-9 24c-1.89.55-3.79 1.08-5.66 1.68l-20.82-15a7.35 7.35 0 0 0-11.54 4.79l-4.15 25.41c-1.73.9-3.45 1.79-5.16 2.73l-23.4-10.63a7.35 7.35 0 0 0-10.39 7l.92 25.81c-1.49 1.19-3 2.39-4.42 3.61L81.84 73A7.36 7.36 0 0 0 73 81.84L78.93 107c-1.23 1.45-2.43 2.93-3.62 4.41l-25.81-.91a7.42 7.42 0 0 0-6.37 3.26 7.35 7.35 0 0 0-.57 7.13l10.66 23.41c-.94 1.7-1.83 3.43-2.73 5.16l-25.41 4.14a7.35 7.35 0 0 0-4.79 11.54l15 20.82c-.59 1.87-1.13 3.77-1.68 5.66l-24 9a7.35 7.35 0 0 0-2.44 12.25l18.72 17.5c-.21 1.95-.38 3.91-.55 5.88l-21.86 13.5a7.35 7.35 0 0 0 0 12.5l21.82 13.51c.17 2 .34 3.92.55 5.87l-18.72 17.5a7.35 7.35 0 0 0 2.44 12.25l24 9c.55 1.89 1.08 3.78 1.68 5.65l-15 20.83a7.35 7.35 0 0 0 4.79 11.54l25.42 4.15c.9 1.72 1.79 3.45 2.73 5.14l-10.63 23.43a7.35 7.35 0 0 0 .57 7.13 7.13 7.13 0 0 0 6.37 3.26l25.83-.91q1.77 2.22 3.6 4.4L73 430.16a7.36 7.36 0 0 0 8.84 8.84l25.16-5.93q2.18 1.83 4.41 3.61l-.92 25.82a7.35 7.35 0 0 0 10.39 6.95l23.43-10.68c1.69.94 3.42 1.83 5.14 2.73l4.15 25.42a7.34 7.34 0 0 0 11.54 4.78l20.83-15c1.86.6 3.76 1.13 5.65 1.68l9 24a7.36 7.36 0 0 0 12.25 2.44l17.5-18.72c1.95.21 3.92.38 5.88.55l13.51 21.82a7.35 7.35 0 0 0 12.5 0l13.51-21.82c2-.17 3.93-.34 5.88-.56l17.5 18.73a7.36 7.36 0 0 0 12.25-2.44l9-24c1.89-.55 3.78-1.08 5.65-1.68l20.82 15a7.34 7.34 0 0 0 11.54-4.78l4.15-25.42c1.72-.9 3.45-1.79 5.15-2.73l23.42 10.68a7.35 7.35 0 0 0 10.39-6.95l-.91-25.82q2.22-1.79 4.4-3.61l25.15 5.93a7.36 7.36 0 0 0 8.84-8.84L433.07 405q1.83-2.17 3.61-4.4l25.82.91a7.23 7.23 0 0 0 6.37-3.26 7.35 7.35 0 0 0 .58-7.13l-10.68-23.42c.94-1.7 1.83-3.43 2.73-5.15l25.42-4.15a7.35 7.35 0 0 0 4.79-11.54l-15-20.83c.59-1.87 1.13-3.76 1.67-5.65l24-9a7.35 7.35 0 0 0 2.44-12.25l-18.72-17.5c.21-1.95.38-3.91.55-5.87l21.82-13.51a7.35 7.35 0 0 0 0-12.5Zm-151 129.08A13.91 13.91 0 0 0 341 389.51l-7.64 35.67a187.51 187.51 0 0 1-156.36-.74l-7.64-35.66a13.87 13.87 0 0 0-16.46-10.68l-31.51 6.76a187 187 0 0 1-16.26-19.21H258.3c1.72 0 2.89-.29 2.89-1.91v-54.19c0-1.57-1.17-1.91-2.89-1.91h-44.83l.05-34.35H262c4.41 0 23.66 1.28 29.79 25.87 1.91 7.55 6.17 32.14 9.06 40 2.89 8.82 14.6 26.46 27.1 26.46H407a187 187 0 0 1-17.34 20.09Zm25.77 34.49A15.24 15.24 0 1 1 368 398.08h.44a15.23 15.23 0 0 1 14.8 15.24Zm-225.62-.68a15.24 15.24 0 1 1-15.25-15.25h.45a15.25 15.25 0 0 1 14.75 15.25Zm-88.1-178.49 32.83-14.6a13.88 13.88 0 0 0 7.06-18.33L102.69 186h26.56v119.73h-53.6a187.7 187.7 0 0 1-6.08-71.58m-11.26-36.06a15.24 15.24 0 0 1 15.23-15.25H74a15.24 15.24 0 1 1-15.67 15.24Zm155.16 24.49.05-35.32h63.26c3.28 0 23.07 3.77 23.07 18.62 0 12.29-15.19 16.7-27.68 16.7ZM399 306.71c-9.8 1.13-20.63-4.12-22-10.09-5.78-32.49-15.39-39.4-30.57-51.4 18.86-11.95 38.46-29.64 38.46-53.26 0-25.52-17.49-41.59-29.4-49.48-16.76-11-35.28-13.23-40.27-13.23h-198.9a187.5 187.5 0 0 1 104.89-59.19l23.47 24.6a13.82 13.82 0 0 0 19.6.44l26.26-25a187.51 187.51 0 0 1 128.37 91.43l-18 40.57a14 14 0 0 0 7.09 18.33l34.59 15.33a187 187 0 0 1 .4 32.54h-19.28c-1.91 0-2.69 1.27-2.69 3.13v8.82C421 301 409.31 305.58 399 306.71M240 60.21A15.24 15.24 0 0 1 255.21 45h.45A15.24 15.24 0 1 1 240 60.21M436.84 214a15.24 15.24 0 1 1 0-30.48h.44a15.24 15.24 0 0 1-.44 30.48"></path></svg> </a> <a class=md-social__link href=https://join.slack.com/t/earthmover-community/shared_invite/zt-2cwje92ir-xU3CfdG8BI~4CJOJy~sceQ rel=noopener target=_blank title=join.slack.com> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1s21.16-47.06 47.06-47.06h47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06S448 171 448 196.9s-21.16 47.06-47.06 47.06h-47.06zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06S309 480 283.1 480s-47.06-21.16-47.06-47.06v-47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06s21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06z"></path></svg> </a> <a class=md-social__link href=https://x.com/earthmoverhq rel=noopener target=_blank title=x.com> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"></path></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <div class=md-consent data-md-component=consent hidden id=__consent> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle id=__settings type=checkbox> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input checked name=analytics type=checkbox> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input checked name=github type=checkbox> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id=__config type=application/json>{"base": "..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.tracking", "navigation.indexes", "navigation.footer", "navigation.tabs", "navigation.tabs.sticky", "toc.follow", "navigation.top", "announce.dismiss", "content.code.copy", "content.code.annotate"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../assets/javascripts/bundle.525ec568.min.js></script> <script src=../scripts/readthedocs.js></script> <script src=/js/open_in_new_tab.js></script> <script type=module>import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
window.mermaidConfig = {default: {
    startOnLoad: false
}};</script></body> </html>