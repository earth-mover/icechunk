<!DOCTYPE html><html class=no-js lang=en> <head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Open-source, cloud-native transactional tensor storage engine" name=description><meta content="Earthmover PBC" name=author><link href=https://icechunk.io/icechunk-python/version-control/ rel=canonical><link href=../dask/ rel=prev><link href=../virtual/ rel=next><link href=../../assets/favicon/favicon-96x96.png rel=icon><meta content="mkdocs-1.6.1, mkdocs-material-9.5.40" name=generator><meta content=1 name=readthedocs-addons-api-version><title>Version Control - Icechunk</title><link href=../../assets/stylesheets/main.8c3ca2c6.min.css rel=stylesheet><link href=../../assets/stylesheets/palette.06af60db.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href=../../assets/_mkdocstrings.css rel=stylesheet><link href=../../stylesheets/theme.css rel=stylesheet><link href=../../stylesheets/global.css rel=stylesheet><link href=../../stylesheets/notebooks.css rel=stylesheet><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-TNHH1RF342"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-TNHH1RF342",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-TNHH1RF342",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script><meta content=website property=og:type><meta content="Version Control - Icechunk" property=og:title><meta content="Open-source, cloud-native transactional tensor storage engine" property=og:description><meta content=https://icechunk.io/assets/images/social/icechunk-python/version-control.png property=og:image><meta content=image/png property=og:image:type><meta content=1200 property=og:image:width><meta content=630 property=og:image:height><meta content=https://icechunk.io/icechunk-python/version-control/ property=og:url><meta content=summary_large_image name=twitter:card><meta content="Version Control - Icechunk" name=twitter:title><meta content="Open-source, cloud-native transactional tensor storage engine" name=twitter:description><meta content=https://icechunk.io/assets/images/social/icechunk-python/version-control.png name=twitter:image></head> <body data-md-color-accent=indigo data-md-color-primary=indigo data-md-color-scheme=light dir=ltr> <input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox> <input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a class=md-skip href=#version-control> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav aria-label=Header class="md-header__inner md-grid"> <a aria-label=Icechunk class="md-header__button md-logo" data-md-component=logo href=../.. title=Icechunk> <img alt=logo src=../../assets/logo-wire.svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Icechunk </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Version Control </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input aria-label="Switch to dark mode" class=md-option data-md-color-accent=indigo data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary=indigo data-md-color-scheme=light id=__palette_0 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_1 hidden title="Switch to dark mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg> </label> <input aria-label="Switch to light mode" class=md-option data-md-color-accent=indigo data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary=indigo data-md-color-scheme=slate id=__palette_1 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_0 hidden title="Switch to light mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input aria-label=Search autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=Search required spellcheck=false type=text> <label class="md-search__icon md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav aria-label=Search class=md-search__options> <button aria-label=Clear class="md-search__icon md-icon" tabindex=-1 title=Clear type=reset> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix tabindex=0> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a class=md-source data-md-component=source href=https://github.com/earth-mover/icechunk title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class=md-source__repository> earth-mover/icechunk </div> </a> </div> </nav> <nav aria-label=Tabs class=md-tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a class=md-tabs__link href=../..> Home </a> </li> <li class=md-tabs__item> <a href=../../overview/ class=md-tabs__link> Overview </a> </li> <li class=md-tabs__item> <a href=../../faq/ class=md-tabs__link> FAQ </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../quickstart/ class=md-tabs__link> Icechunk Python </a> </li> <li class=md-tabs__item> <a href=../../icechunk-rust/ class=md-tabs__link> Icechunk Rust </a> </li> <li class=md-tabs__item> <a href=../../contributing/ class=md-tabs__link> Contributing </a> </li> <li class=md-tabs__item> <a href=../../sample-datasets/ class=md-tabs__link> Sample Datasets </a> </li> <li class=md-tabs__item> <a href=../../spec/ class=md-tabs__link> Spec </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <!--
NOTE:
    We are overriding this partial to remove default behavior of hiding sidebar menu when using tabs.
    (remove md-nav--lifted class from <nav>)
    @see https://github.com/squidfunk/mkdocs-material/blob/master/src/templates/partials/nav.html#L28
--> <!-- Determine classes --> <!-- Navigation --> <nav aria-label=Navigation class="md-nav md-nav--primary" data-md-level=0> <!-- Site title --> <label class=md-nav__title for=__drawer> <a aria-label=Icechunk class="md-nav__button md-logo" data-md-component=logo href=../.. title=Icechunk> <img alt=logo src=../../assets/logo-wire.svg> </a> Icechunk </label> <!-- Repository information --> <div class=md-nav__source> <a class=md-source data-md-component=source href=https://github.com/earth-mover/icechunk title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class=md-source__repository> earth-mover/icechunk </div> </a> </div> <!-- Navigation list --> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../..> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../faq/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" id=__nav_4 type=checkbox> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Icechunk Python </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=true aria-labelledby=__nav_4_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Icechunk Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../quickstart/ class=md-nav__link> <span class=md-ellipsis> Quickstart </span> </a> </li> <li class=md-nav__item> <a href=../configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../faq/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> <li class=md-nav__item> <a href=../xarray/ class=md-nav__link> <span class=md-ellipsis> Xarray </span> </a> </li> <li class=md-nav__item> <a href=../parallel/ class=md-nav__link> <span class=md-ellipsis> Parallel Writes </span> </a> </li> <li class=md-nav__item> <a href=../dask/ class=md-nav__link> <span class=md-ellipsis> Dask </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" id=__toc type=checkbox> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Version Control </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Version Control </span> </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#setup> <span class=md-ellipsis> Setup </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#creating-a-snapshot> <span class=md-ellipsis> Creating a snapshot </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#time-travel> <span class=md-ellipsis> Time Travel </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#branches> <span class=md-ellipsis> Branches </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#tags> <span class=md-ellipsis> Tags </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#conflict-resolution> <span class=md-ellipsis> Conflict Resolution </span> </a> <nav aria-label="Conflict Resolution" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#rebasing> <span class=md-ellipsis> Rebasing </span> </a> <nav aria-label=Rebasing class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#limitations> <span class=md-ellipsis> Limitations </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../virtual/ class=md-nav__link> <span class=md-ellipsis> Virtual Datasets </span> </a> </li> <li class=md-nav__item> <a href=../reference/ class=md-nav__link> <span class=md-ellipsis> API Reference </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_4_10 type=checkbox> <label class=md-nav__link for=__nav_4_10 id=__nav_4_10_label tabindex=0> <span class=md-ellipsis> Cheatsheets </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_4_10_label class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_10> <span class="md-nav__icon md-icon"></span> Cheatsheets </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../cheatsheets/git-users/ class=md-nav__link> <span class=md-ellipsis> Icechunk for Git Users </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../icechunk-rust/ class=md-nav__link> <span class=md-ellipsis> Icechunk Rust </span> </a> </li> <li class=md-nav__item> <a href=../../contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> <li class=md-nav__item> <a href=../../sample-datasets/ class=md-nav__link> <span class=md-ellipsis> Sample Datasets </span> </a> </li> <li class=md-nav__item> <a href=../../spec/ class=md-nav__link> <span class=md-ellipsis> Spec </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#setup> <span class=md-ellipsis> Setup </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#creating-a-snapshot> <span class=md-ellipsis> Creating a snapshot </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#time-travel> <span class=md-ellipsis> Time Travel </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#branches> <span class=md-ellipsis> Branches </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#tags> <span class=md-ellipsis> Tags </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#conflict-resolution> <span class=md-ellipsis> Conflict Resolution </span> </a> <nav aria-label="Conflict Resolution" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#rebasing> <span class=md-ellipsis> Rebasing </span> </a> <nav aria-label=Rebasing class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#limitations> <span class=md-ellipsis> Limitations </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <p><a href=/ >Home</a> / <a href=/icechunk-python/ >icechunk-python</a> / version-control</p> <h1 id=version-control>Version Control</h1> <p>Icechunk carries over concepts from other version control software (e.g. Git) to multidimensional arrays. Doing so helps ease the burden of managing multiple versions of your data, and helps you be precise about which version of your dataset is being used for downstream purposes.</p> <p>Core concepts of Icechunk's version control system are:</p> <ul> <li>A snapshot bundles together related data and metadata changes in a single "transaction".</li> <li>A branch points to the latest snapshot in a series of snapshots. Multiple branches can co-exist at a given time, and multiple users can add snapshots to a single branch. One common pattern is to use dev, stage, and prod branches to separate versions of a dataset.</li> <li>A tag is an immutable reference to a snapshot, usually used to represent an "important" version of the dataset such as a release.</li> </ul> <p>Snapshots, branches, and tags all refer to specific versions of your dataset. You can time-travel/navigate back to any version of your data as referenced by a snapshot, a branch, or a tag using a snapshot ID, a branch name, or a tag name when creating a new <code>Session</code>.</p> <h2 id=setup>Setup</h2> <p>To get started, we can create a new <code>Repository</code>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>This example uses an in-memory storage backend, but you can also use any other storage backend instead.</p> </div> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=kn>import</span> <span class=nn>icechunk</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=n>repo</span> <span class=o>=</span> <span class=n>icechunk</span><span class=o>.</span><span class=n>Repository</span><span class=o>.</span><span class=n>create</span><span class=p>(</span><span class=n>icechunk</span><span class=o>.</span><span class=n>in_memory_storage</span><span class=p>())</span>
</span></code></pre></div> <p>On creating a new <a href=../reference/#icechunk.Repository><code>Repository</code></a>, it will automatically create a <code>main</code> branch with an initial snapshot. We can take a look at the ancestry of the <code>main</code> branch to confirm this.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=n>repo</span><span class=o>.</span><span class=n>ancestry</span><span class=p>(</span><span class=n>branch</span><span class=o>=</span><span class=s2>"main"</span><span class=p>)</span>
</span><span id=__span-1-2><a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a>
</span><span id=__span-1-3><a href=#__codelineno-1-3 id=__codelineno-1-3 name=__codelineno-1-3></a><span class=c1># [SnapshotInfo(id="A840RMN5CF807CM66RY0", parent_id=None, written_at=datetime.datetime(2025,1,30,19,52,41,592998, tzinfo=datetime.timezone.utc), message="Repository...")]</span>
</span></code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The <a href=./reference/#icechunk.Repository.ancestry><code>ancestry</code></a> method can be used to inspect the ancestry of any branch, snapshot, or tag.</p> </div> <p>We get back a list of <a href=../reference/#icechunk.SnapshotInfo><code>SnapshotInfo</code></a> objects, which contain information about the snapshot, including its ID, the ID of its parent snapshot, and the time it was written.</p> <h2 id=creating-a-snapshot>Creating a snapshot</h2> <p>Now that we have a <code>Repository</code> with a <code>main</code> branch, we can modify the data in the repository and create a new snapshot. First we need to create a writable from the <code>main</code> branch.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Writable <code>Session</code> objects are required to create new snapshots, and can only be created from the tip of a branch. Checking out tags or other snapshots is read-only.</p> </div> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=n>session</span> <span class=o>=</span> <span class=n>repo</span><span class=o>.</span><span class=n>writable_session</span><span class=p>(</span><span class=n>branch</span><span class=o>=</span><span class=s2>"main"</span><span class=p>)</span>
</span></code></pre></div> <p>We can now access the <code>zarr.Store</code> from the <code>Session</code> and create a new root group. Then we can modify the attributes of the root group and create a new snapshot.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a><span class=kn>import</span> <span class=nn>zarr</span>
</span><span id=__span-3-2><a href=#__codelineno-3-2 id=__codelineno-3-2 name=__codelineno-3-2></a>
</span><span id=__span-3-3><a href=#__codelineno-3-3 id=__codelineno-3-3 name=__codelineno-3-3></a><span class=n>root</span> <span class=o>=</span> <span class=n>zarr</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=n>session</span><span class=o>.</span><span class=n>store</span><span class=p>)</span>
</span><span id=__span-3-4><a href=#__codelineno-3-4 id=__codelineno-3-4 name=__codelineno-3-4></a><span class=n>root</span><span class=o>.</span><span class=n>attrs</span><span class=p>[</span><span class=s2>"foo"</span><span class=p>]</span> <span class=o>=</span> <span class=s2>"bar"</span>
</span><span id=__span-3-5><a href=#__codelineno-3-5 id=__codelineno-3-5 name=__codelineno-3-5></a><span class=n>session</span><span class=o>.</span><span class=n>commit</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=s2>"Add foo attribute to root group"</span><span class=p>)</span>
</span><span id=__span-3-6><a href=#__codelineno-3-6 id=__codelineno-3-6 name=__codelineno-3-6></a>
</span><span id=__span-3-7><a href=#__codelineno-3-7 id=__codelineno-3-7 name=__codelineno-3-7></a><span class=c1># 'J1ZJHS4EEQW3ATKMV9TG'</span>
</span></code></pre></div> <p>Success! We've created a new snapshot with a new attribute on the root group.</p> <p>Once we've committed the snapshot, the <code>Session</code> will become read-only, and we can no longer modify the data using our existing <code>Session</code>. If we want to modify the data again, we need to create a new writable <code>Session</code> from the branch. Notice that we don't have to refresh the <code>Repository</code> to get the updates from the <code>main</code> branch. Instead, the <code>Repository</code> will automatically fetch the latest snapshot from the branch when we create a new writable <code>Session</code> from it.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a><span class=n>session</span> <span class=o>=</span> <span class=n>repo</span><span class=o>.</span><span class=n>writable_session</span><span class=p>(</span><span class=n>branch</span><span class=o>=</span><span class=s2>"main"</span><span class=p>)</span>
</span><span id=__span-4-2><a href=#__codelineno-4-2 id=__codelineno-4-2 name=__codelineno-4-2></a><span class=n>root</span> <span class=o>=</span> <span class=n>zarr</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=n>session</span><span class=o>.</span><span class=n>store</span><span class=p>)</span>
</span><span id=__span-4-3><a href=#__codelineno-4-3 id=__codelineno-4-3 name=__codelineno-4-3></a><span class=n>root</span><span class=o>.</span><span class=n>attrs</span><span class=p>[</span><span class=s2>"foo"</span><span class=p>]</span> <span class=o>=</span> <span class=s2>"baz"</span>
</span><span id=__span-4-4><a href=#__codelineno-4-4 id=__codelineno-4-4 name=__codelineno-4-4></a><span class=n>session</span><span class=o>.</span><span class=n>commit</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=s2>"Update foo attribute on root group"</span><span class=p>)</span>
</span><span id=__span-4-5><a href=#__codelineno-4-5 id=__codelineno-4-5 name=__codelineno-4-5></a>
</span><span id=__span-4-6><a href=#__codelineno-4-6 id=__codelineno-4-6 name=__codelineno-4-6></a><span class=c1># 'BZ9YP38SWPW2E784VAB0'</span>
</span></code></pre></div> <p>With a few snapshots committed, we can take a look at the ancestry of the <code>main</code> branch:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-5-1><a href=#__codelineno-5-1 id=__codelineno-5-1 name=__codelineno-5-1></a><span class=k>for</span> <span class=n>snapshot</span> <span class=ow>in</span> <span class=n>repo</span><span class=o>.</span><span class=n>ancestry</span><span class=p>(</span><span class=n>branch</span><span class=o>=</span><span class=s2>"main"</span><span class=p>):</span>
</span><span id=__span-5-2><a href=#__codelineno-5-2 id=__codelineno-5-2 name=__codelineno-5-2></a>    <span class=nb>print</span><span class=p>(</span><span class=n>snapshot</span><span class=p>)</span>
</span><span id=__span-5-3><a href=#__codelineno-5-3 id=__codelineno-5-3 name=__codelineno-5-3></a>
</span><span id=__span-5-4><a href=#__codelineno-5-4 id=__codelineno-5-4 name=__codelineno-5-4></a><span class=c1># SnapshotInfo(id="BZ9YP38SWPW2E784VAB0", parent_id="J1ZJHS4EEQW3ATKMV9TG", written_at=datetime.datetime(2025,1,30,20,26,51,115330, tzinfo=datetime.timezone.utc), message="Update foo...")</span>
</span><span id=__span-5-5><a href=#__codelineno-5-5 id=__codelineno-5-5 name=__codelineno-5-5></a><span class=c1># SnapshotInfo(id="J1ZJHS4EEQW3ATKMV9TG", parent_id="A840RMN5CF807CM66RY0", written_at=datetime.datetime(2025,1,30,20,26,50,9616, tzinfo=datetime.timezone.utc), message="Add foo at...")</span>
</span><span id=__span-5-6><a href=#__codelineno-5-6 id=__codelineno-5-6 name=__codelineno-5-6></a><span class=c1># SnapshotInfo(id="A840RMN5CF807CM66RY0", parent_id=None, written_at=datetime.datetime(2025,1,30,20,26,47,66157, tzinfo=datetime.timezone.utc), message="Repository...")</span>
</span></code></pre></div> <p>Visually, this looks like below, where the arrows represent the parent-child relationship between snapshots.</p> <pre class=mermaid><code>gitGraph
    commit id: "A840RMN5" type: NORMAL
    commit id: "J1ZJHS4" type: NORMAL
    commit id: "BZ9YP38" type: NORMAL
</code></pre> <h2 id=time-travel>Time Travel</h2> <p>Now that we've created a new snapshot, we can time-travel back to the previous snapshot using the snapshot ID.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>It's important to note that because the <code>zarr Store</code> is read-only, we need to pass <code>mode="r"</code> to the <code>zarr.open_group</code> function.</p> </div> <div class="language-python highlight"><pre><span></span><code><span id=__span-6-1><a href=#__codelineno-6-1 id=__codelineno-6-1 name=__codelineno-6-1></a><span class=n>session</span> <span class=o>=</span> <span class=n>repo</span><span class=o>.</span><span class=n>readonly_session</span><span class=p>(</span><span class=n>snapshot_id</span><span class=o>=</span><span class=s2>"BSHY7B1AGAPWQC14Q18G"</span><span class=p>)</span>
</span><span id=__span-6-2><a href=#__codelineno-6-2 id=__codelineno-6-2 name=__codelineno-6-2></a><span class=n>root</span> <span class=o>=</span> <span class=n>zarr</span><span class=o>.</span><span class=n>open_group</span><span class=p>(</span><span class=n>session</span><span class=o>.</span><span class=n>store</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=s2>"r"</span><span class=p>)</span>
</span><span id=__span-6-3><a href=#__codelineno-6-3 id=__codelineno-6-3 name=__codelineno-6-3></a><span class=n>root</span><span class=o>.</span><span class=n>attrs</span><span class=p>[</span><span class=s2>"foo"</span><span class=p>]</span>
</span><span id=__span-6-4><a href=#__codelineno-6-4 id=__codelineno-6-4 name=__codelineno-6-4></a>
</span><span id=__span-6-5><a href=#__codelineno-6-5 id=__codelineno-6-5 name=__codelineno-6-5></a><span class=c1># 'bar'</span>
</span></code></pre></div> <h2 id=branches>Branches</h2> <p>If we want to modify the data from a previous snapshot, we can create a new branch from that snapshot with <a href=../reference/#icechunk.Repository.create_branch><code>create_branch</code></a>.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-7-1><a href=#__codelineno-7-1 id=__codelineno-7-1 name=__codelineno-7-1></a><span class=n>repo</span><span class=o>.</span><span class=n>create_branch</span><span class=p>(</span><span class=s2>"dev"</span><span class=p>,</span> <span class=n>snapshot_id</span><span class=o>=</span><span class=n>main_branch_snapshot_id</span><span class=p>)</span>
</span></code></pre></div> <p>We can now create a new writable <code>Session</code> from the <code>dev</code> branch and modify the data.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-8-1><a href=#__codelineno-8-1 id=__codelineno-8-1 name=__codelineno-8-1></a><span class=n>session</span> <span class=o>=</span> <span class=n>repo</span><span class=o>.</span><span class=n>writable_session</span><span class=p>(</span><span class=n>branch</span><span class=o>=</span><span class=s2>"dev"</span><span class=p>)</span>
</span><span id=__span-8-2><a href=#__codelineno-8-2 id=__codelineno-8-2 name=__codelineno-8-2></a><span class=n>root</span> <span class=o>=</span> <span class=n>zarr</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=n>session</span><span class=o>.</span><span class=n>store</span><span class=p>)</span>
</span><span id=__span-8-3><a href=#__codelineno-8-3 id=__codelineno-8-3 name=__codelineno-8-3></a><span class=n>root</span><span class=o>.</span><span class=n>attrs</span><span class=p>[</span><span class=s2>"foo"</span><span class=p>]</span> <span class=o>=</span> <span class=s2>"balogna"</span>
</span><span id=__span-8-4><a href=#__codelineno-8-4 id=__codelineno-8-4 name=__codelineno-8-4></a><span class=n>session</span><span class=o>.</span><span class=n>commit</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=s2>"Update foo attribute on root group"</span><span class=p>)</span>
</span><span id=__span-8-5><a href=#__codelineno-8-5 id=__codelineno-8-5 name=__codelineno-8-5></a>
</span><span id=__span-8-6><a href=#__codelineno-8-6 id=__codelineno-8-6 name=__codelineno-8-6></a><span class=c1># 'H1M3R93ZW19MYKCYASH0'</span>
</span></code></pre></div> <p>We can also create a new branch from the tip of the <code>main</code> branch if we want to modify our current working branch without modifying the <code>main</code> branch.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-9-1><a href=#__codelineno-9-1 id=__codelineno-9-1 name=__codelineno-9-1></a><span class=n>main_branch_snapshot_id</span> <span class=o>=</span> <span class=n>repo</span><span class=o>.</span><span class=n>lookup_branch</span><span class=p>(</span><span class=s2>"main"</span><span class=p>)</span>
</span><span id=__span-9-2><a href=#__codelineno-9-2 id=__codelineno-9-2 name=__codelineno-9-2></a><span class=n>repo</span><span class=o>.</span><span class=n>create_branch</span><span class=p>(</span><span class=s2>"feature"</span><span class=p>,</span> <span class=n>snapshot_id</span><span class=o>=</span><span class=n>main_branch_snapshot_id</span><span class=p>)</span>
</span><span id=__span-9-3><a href=#__codelineno-9-3 id=__codelineno-9-3 name=__codelineno-9-3></a>
</span><span id=__span-9-4><a href=#__codelineno-9-4 id=__codelineno-9-4 name=__codelineno-9-4></a><span class=n>session</span> <span class=o>=</span> <span class=n>repo</span><span class=o>.</span><span class=n>writable_session</span><span class=p>(</span><span class=n>branch</span><span class=o>=</span><span class=s2>"feature"</span><span class=p>)</span>
</span><span id=__span-9-5><a href=#__codelineno-9-5 id=__codelineno-9-5 name=__codelineno-9-5></a><span class=n>root</span> <span class=o>=</span> <span class=n>zarr</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=n>session</span><span class=o>.</span><span class=n>store</span><span class=p>)</span>
</span><span id=__span-9-6><a href=#__codelineno-9-6 id=__codelineno-9-6 name=__codelineno-9-6></a><span class=n>root</span><span class=o>.</span><span class=n>attrs</span><span class=p>[</span><span class=s2>"foo"</span><span class=p>]</span> <span class=o>=</span> <span class=s2>"cherry"</span>
</span><span id=__span-9-7><a href=#__codelineno-9-7 id=__codelineno-9-7 name=__codelineno-9-7></a><span class=n>session</span><span class=o>.</span><span class=n>commit</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=s2>"Update foo attribute on root group"</span><span class=p>)</span>
</span><span id=__span-9-8><a href=#__codelineno-9-8 id=__codelineno-9-8 name=__codelineno-9-8></a>
</span><span id=__span-9-9><a href=#__codelineno-9-9 id=__codelineno-9-9 name=__codelineno-9-9></a><span class=c1># 'S3QY2RDQQTRYFGJDTB6G'</span>
</span></code></pre></div> <p>With these branches created, the hierarchy of the repository now looks like below.</p> <pre class=mermaid><code>gitGraph
    commit id: "A840RMN5" type: NORMAL
    commit id: "J1ZJHS4" type: NORMAL
    branch dev
    checkout dev
    commit id: "H1M3R93" type: NORMAL

    checkout main
    commit id: "BZ9YP38" type: NORMAL

    checkout main
    branch feature
    commit id: "S3QY2RD" type: NORMAL
</code></pre> <p>We can also <a href=../reference/#icechunk.Repository.list_branches>list all branches</a> in the repository.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-10-1><a href=#__codelineno-10-1 id=__codelineno-10-1 name=__codelineno-10-1></a><span class=n>repo</span><span class=o>.</span><span class=n>list_branches</span><span class=p>()</span>
</span><span id=__span-10-2><a href=#__codelineno-10-2 id=__codelineno-10-2 name=__codelineno-10-2></a>
</span><span id=__span-10-3><a href=#__codelineno-10-3 id=__codelineno-10-3 name=__codelineno-10-3></a><span class=c1># { 'dev', 'feature', 'main' }</span>
</span></code></pre></div> <p>If we need to find the snapshot that a branch is based on, we can use the <a href=../reference/#icechunk.Repository.lookup_branch><code>lookup_branch</code></a> method.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-11-1><a href=#__codelineno-11-1 id=__codelineno-11-1 name=__codelineno-11-1></a><span class=n>repo</span><span class=o>.</span><span class=n>lookup_branch</span><span class=p>(</span><span class=s2>"feature"</span><span class=p>)</span>
</span><span id=__span-11-2><a href=#__codelineno-11-2 id=__codelineno-11-2 name=__codelineno-11-2></a>
</span><span id=__span-11-3><a href=#__codelineno-11-3 id=__codelineno-11-3 name=__codelineno-11-3></a><span class=c1># 'J1ZJHS4EEQW3ATKMV9TG'</span>
</span></code></pre></div> <p>We can also <a href=../reference/#icechunk.Repository.delete_branch>delete a branch</a> with <a href=../reference/#icechunk.Repository.delete_branch><code>delete_branch</code></a>.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-12-1><a href=#__codelineno-12-1 id=__codelineno-12-1 name=__codelineno-12-1></a><span class=n>repo</span><span class=o>.</span><span class=n>delete_branch</span><span class=p>(</span><span class=s2>"feature"</span><span class=p>)</span>
</span></code></pre></div> <p>Finally, we can <a href=../reference/#icechunk.Repository.reset_branch>reset a branch</a> to a previous snapshot with <a href=../reference/#icechunk.Repository.reset_branch><code>reset_branch</code></a>. This immediately modifies the branch tip to the specified snapshot, changing the history of the branch.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-13-1><a href=#__codelineno-13-1 id=__codelineno-13-1 name=__codelineno-13-1></a><span class=n>repo</span><span class=o>.</span><span class=n>reset_branch</span><span class=p>(</span><span class=s2>"dev"</span><span class=p>,</span> <span class=n>snapshot_id</span><span class=o>=</span><span class=s2>"J1ZJHS4EEQW3ATKMV9TG"</span><span class=p>)</span>
</span></code></pre></div> <h2 id=tags>Tags</h2> <p>Tags are immutable references to a snapshot. They are created with <a href=../reference/#icechunk.Repository.create_tag><code>create_tag</code></a>.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-14-1><a href=#__codelineno-14-1 id=__codelineno-14-1 name=__codelineno-14-1></a><span class=n>repo</span><span class=o>.</span><span class=n>create_tag</span><span class=p>(</span><span class=s2>"v1.0.0"</span><span class=p>,</span> <span class=n>snapshot_id</span><span class=o>=</span><span class=s2>"J1ZJHS4EEQW3ATKMV9TG"</span><span class=p>)</span>
</span></code></pre></div> <p>Because tags are immutable, we need to use a readonly <code>Session</code> to access the data referenced by a tag.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-15-1><a href=#__codelineno-15-1 id=__codelineno-15-1 name=__codelineno-15-1></a><span class=n>session</span> <span class=o>=</span> <span class=n>repo</span><span class=o>.</span><span class=n>readonly_session</span><span class=p>(</span><span class=n>tag</span><span class=o>=</span><span class=s2>"v1.0.0"</span><span class=p>)</span>
</span><span id=__span-15-2><a href=#__codelineno-15-2 id=__codelineno-15-2 name=__codelineno-15-2></a><span class=n>root</span> <span class=o>=</span> <span class=n>zarr</span><span class=o>.</span><span class=n>open_group</span><span class=p>(</span><span class=n>session</span><span class=o>.</span><span class=n>store</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=s2>"r"</span><span class=p>)</span>
</span><span id=__span-15-3><a href=#__codelineno-15-3 id=__codelineno-15-3 name=__codelineno-15-3></a><span class=n>root</span><span class=o>.</span><span class=n>attrs</span><span class=p>[</span><span class=s2>"foo"</span><span class=p>]</span>
</span><span id=__span-15-4><a href=#__codelineno-15-4 id=__codelineno-15-4 name=__codelineno-15-4></a>
</span><span id=__span-15-5><a href=#__codelineno-15-5 id=__codelineno-15-5 name=__codelineno-15-5></a><span class=c1># 'bar'</span>
</span></code></pre></div> <pre class=mermaid><code>gitGraph
    commit id: "A840RMN5" type: NORMAL
    commit id: "J1ZJHS4" type: NORMAL
    commit tag: "v1.0.0"
    commit id: "BZ9YP38" type: NORMAL
</code></pre> <p>We can also <a href=../reference/#icechunk.Repository.list_tags>list all tags</a> in the repository.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-16-1><a href=#__codelineno-16-1 id=__codelineno-16-1 name=__codelineno-16-1></a><span class=n>repo</span><span class=o>.</span><span class=n>list_tags</span><span class=p>()</span>
</span><span id=__span-16-2><a href=#__codelineno-16-2 id=__codelineno-16-2 name=__codelineno-16-2></a>
</span><span id=__span-16-3><a href=#__codelineno-16-3 id=__codelineno-16-3 name=__codelineno-16-3></a><span class=c1># { 'v1.0.0' }</span>
</span></code></pre></div> <p>and we can look up the snapshot that a tag is based on with <a href=../reference/#icechunk.Repository.lookup_tag><code>lookup_tag</code></a>.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-17-1><a href=#__codelineno-17-1 id=__codelineno-17-1 name=__codelineno-17-1></a><span class=n>repo</span><span class=o>.</span><span class=n>lookup_tag</span><span class=p>(</span><span class=s2>"v1.0.0"</span><span class=p>)</span>
</span><span id=__span-17-2><a href=#__codelineno-17-2 id=__codelineno-17-2 name=__codelineno-17-2></a>
</span><span id=__span-17-3><a href=#__codelineno-17-3 id=__codelineno-17-3 name=__codelineno-17-3></a><span class=c1># 'J1ZJHS4EEQW3ATKMV9TG'</span>
</span></code></pre></div> <p>And then finally delete a tag with <a href=../reference/#icechunk.Repository.delete_tag><code>delete_tag</code></a>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Tags are immutable and once a tag is deleted, it can never be recreated.</p> </div> <div class="language-python highlight"><pre><span></span><code><span id=__span-18-1><a href=#__codelineno-18-1 id=__codelineno-18-1 name=__codelineno-18-1></a><span class=n>repo</span><span class=o>.</span><span class=n>delete_tag</span><span class=p>(</span><span class=s2>"v1.0.0"</span><span class=p>)</span>
</span></code></pre></div> <h2 id=conflict-resolution>Conflict Resolution</h2> <p>Icechunk is a serverless distributed system, and as such, it is possible to have multiple users or processes modifying the same data at the same time. Icechunk relies on the consistency guarantees of the underlying storage backends to ensure that the data is always consistent. In situations where two users or processes attempt to modify the same data at the same time, Icechunk will detect the conflict and raise an exception at commit time. This can be illustrated with the following example.</p> <p>Let's create a fresh repository, add some attributes to the root group and create an array named <code>data</code>.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-19-1><a href=#__codelineno-19-1 id=__codelineno-19-1 name=__codelineno-19-1></a><span class=kn>import</span> <span class=nn>icechunk</span>
</span><span id=__span-19-2><a href=#__codelineno-19-2 id=__codelineno-19-2 name=__codelineno-19-2></a><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span><span id=__span-19-3><a href=#__codelineno-19-3 id=__codelineno-19-3 name=__codelineno-19-3></a><span class=kn>import</span> <span class=nn>zarr</span>
</span><span id=__span-19-4><a href=#__codelineno-19-4 id=__codelineno-19-4 name=__codelineno-19-4></a>
</span><span id=__span-19-5><a href=#__codelineno-19-5 id=__codelineno-19-5 name=__codelineno-19-5></a><span class=n>repo</span> <span class=o>=</span> <span class=n>icechunk</span><span class=o>.</span><span class=n>Repository</span><span class=o>.</span><span class=n>create</span><span class=p>(</span><span class=n>icechunk</span><span class=o>.</span><span class=n>in_memory_storage</span><span class=p>())</span>
</span><span id=__span-19-6><a href=#__codelineno-19-6 id=__codelineno-19-6 name=__codelineno-19-6></a><span class=n>session</span> <span class=o>=</span> <span class=n>repo</span><span class=o>.</span><span class=n>writable_session</span><span class=p>(</span><span class=n>branch</span><span class=o>=</span><span class=s2>"main"</span><span class=p>)</span>
</span><span id=__span-19-7><a href=#__codelineno-19-7 id=__codelineno-19-7 name=__codelineno-19-7></a><span class=n>root</span> <span class=o>=</span> <span class=n>zarr</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=n>session</span><span class=o>.</span><span class=n>store</span><span class=p>)</span>
</span><span id=__span-19-8><a href=#__codelineno-19-8 id=__codelineno-19-8 name=__codelineno-19-8></a><span class=n>root</span><span class=o>.</span><span class=n>attrs</span><span class=p>[</span><span class=s2>"foo"</span><span class=p>]</span> <span class=o>=</span> <span class=s2>"bar"</span>
</span><span id=__span-19-9><a href=#__codelineno-19-9 id=__codelineno-19-9 name=__codelineno-19-9></a><span class=n>root</span><span class=o>.</span><span class=n>create_dataset</span><span class=p>(</span><span class=s2>"data"</span><span class=p>,</span> <span class=n>shape</span><span class=o>=</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>),</span> <span class=n>chunks</span><span class=o>=</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=n>dtype</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>int32</span><span class=p>)</span>
</span><span id=__span-19-10><a href=#__codelineno-19-10 id=__codelineno-19-10 name=__codelineno-19-10></a><span class=n>session</span><span class=o>.</span><span class=n>commit</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=s2>"Add foo attribute and data array"</span><span class=p>)</span>
</span><span id=__span-19-11><a href=#__codelineno-19-11 id=__codelineno-19-11 name=__codelineno-19-11></a>
</span><span id=__span-19-12><a href=#__codelineno-19-12 id=__codelineno-19-12 name=__codelineno-19-12></a><span class=c1># 'BG0W943WSNFMMVD1FXJ0'</span>
</span></code></pre></div> <p>Lets try to modify the <code>data</code> array in two different sessions, created from the <code>main</code> branch.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-20-1><a href=#__codelineno-20-1 id=__codelineno-20-1 name=__codelineno-20-1></a><span class=n>session1</span> <span class=o>=</span> <span class=n>repo</span><span class=o>.</span><span class=n>writable_session</span><span class=p>(</span><span class=n>branch</span><span class=o>=</span><span class=s2>"main"</span><span class=p>)</span>
</span><span id=__span-20-2><a href=#__codelineno-20-2 id=__codelineno-20-2 name=__codelineno-20-2></a><span class=n>session2</span> <span class=o>=</span> <span class=n>repo</span><span class=o>.</span><span class=n>writable_session</span><span class=p>(</span><span class=n>branch</span><span class=o>=</span><span class=s2>"main"</span><span class=p>)</span>
</span><span id=__span-20-3><a href=#__codelineno-20-3 id=__codelineno-20-3 name=__codelineno-20-3></a>
</span><span id=__span-20-4><a href=#__codelineno-20-4 id=__codelineno-20-4 name=__codelineno-20-4></a><span class=n>root1</span> <span class=o>=</span> <span class=n>zarr</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=n>session1</span><span class=o>.</span><span class=n>store</span><span class=p>)</span>
</span><span id=__span-20-5><a href=#__codelineno-20-5 id=__codelineno-20-5 name=__codelineno-20-5></a><span class=n>root2</span> <span class=o>=</span> <span class=n>zarr</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=n>session2</span><span class=o>.</span><span class=n>store</span><span class=p>)</span>
</span></code></pre></div> <p>First, we'll modify the attributes of the root group from both sessions.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-21-1><a href=#__codelineno-21-1 id=__codelineno-21-1 name=__codelineno-21-1></a><span class=n>root1</span><span class=o>.</span><span class=n>attrs</span><span class=p>[</span><span class=s2>"foo"</span><span class=p>]</span> <span class=o>=</span> <span class=s2>"bar"</span>
</span><span id=__span-21-2><a href=#__codelineno-21-2 id=__codelineno-21-2 name=__codelineno-21-2></a><span class=n>root2</span><span class=o>.</span><span class=n>attrs</span><span class=p>[</span><span class=s2>"foo"</span><span class=p>]</span> <span class=o>=</span> <span class=s2>"baz"</span>
</span></code></pre></div> <p>and then try to commit the changes.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-22-1><a href=#__codelineno-22-1 id=__codelineno-22-1 name=__codelineno-22-1></a><span class=n>session1</span><span class=o>.</span><span class=n>commit</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=s2>"Update foo attribute on root group"</span><span class=p>)</span>
</span><span id=__span-22-2><a href=#__codelineno-22-2 id=__codelineno-22-2 name=__codelineno-22-2></a><span class=n>session2</span><span class=o>.</span><span class=n>commit</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=s2>"Update foo attribute on root group"</span><span class=p>)</span>
</span><span id=__span-22-3><a href=#__codelineno-22-3 id=__codelineno-22-3 name=__codelineno-22-3></a>
</span><span id=__span-22-4><a href=#__codelineno-22-4 id=__codelineno-22-4 name=__codelineno-22-4></a><span class=c1># AE9XS2ZWXT861KD2JGHG</span>
</span><span id=__span-22-5><a href=#__codelineno-22-5 id=__codelineno-22-5 name=__codelineno-22-5></a><span class=c1># ---------------------------------------------------------------------------</span>
</span><span id=__span-22-6><a href=#__codelineno-22-6 id=__codelineno-22-6 name=__codelineno-22-6></a><span class=c1># ConflictError                             Traceback (most recent call last)</span>
</span><span id=__span-22-7><a href=#__codelineno-22-7 id=__codelineno-22-7 name=__codelineno-22-7></a><span class=c1># Cell In[7], line 11</span>
</span><span id=__span-22-8><a href=#__codelineno-22-8 id=__codelineno-22-8 name=__codelineno-22-8></a><span class=c1>#      8 root2.attrs["foo"] = "baz"</span>
</span><span id=__span-22-9><a href=#__codelineno-22-9 id=__codelineno-22-9 name=__codelineno-22-9></a><span class=c1>#      10 print(session1.commit(message="Update foo attribute on root group"))</span>
</span><span id=__span-22-10><a href=#__codelineno-22-10 id=__codelineno-22-10 name=__codelineno-22-10></a><span class=c1># ---&gt; 11 print(session2.commit(message="Update foo attribute on root group"))</span>
</span><span id=__span-22-11><a href=#__codelineno-22-11 id=__codelineno-22-11 name=__codelineno-22-11></a>
</span><span id=__span-22-12><a href=#__codelineno-22-12 id=__codelineno-22-12 name=__codelineno-22-12></a><span class=c1># File ~/Developer/icechunk/icechunk-python/python/icechunk/session.py:224, in Session.commit(self, message, metadata)</span>
</span><span id=__span-22-13><a href=#__codelineno-22-13 id=__codelineno-22-13 name=__codelineno-22-13></a><span class=c1>#     222     return self._session.commit(message, metadata)</span>
</span><span id=__span-22-14><a href=#__codelineno-22-14 id=__codelineno-22-14 name=__codelineno-22-14></a><span class=c1>#     223 except PyConflictError as e:</span>
</span><span id=__span-22-15><a href=#__codelineno-22-15 id=__codelineno-22-15 name=__codelineno-22-15></a><span class=c1># --&gt; 224     raise ConflictError(e) from None</span>
</span><span id=__span-22-16><a href=#__codelineno-22-16 id=__codelineno-22-16 name=__codelineno-22-16></a>
</span><span id=__span-22-17><a href=#__codelineno-22-17 id=__codelineno-22-17 name=__codelineno-22-17></a><span class=c1># ConflictError: Failed to commit, expected parent: Some("BG0W943WSNFMMVD1FXJ0"), actual parent: Some("AE9XS2ZWXT861KD2JGHG")</span>
</span></code></pre></div> <p>The first session was able to commit successfully, but the second session failed with a <a href=../reference/#icechunk.ConflictError><code>ConflictError</code></a>. When the second session was created, the changes made were relative to the tip of the <code>main</code> branch, but the tip of the <code>main</code> branch had been modified by the first session.</p> <p>To resolve this conflict, we can use the <a href=../reference/#icechunk.Session.rebase><code>rebase</code></a> functionality.</p> <h3 id=rebasing>Rebasing</h3> <p>To update the second session so it is based off the tip of the <code>main</code> branch, we can use the <a href=../reference/#icechunk.Session.rebase><code>rebase</code></a> method.</p> <p>First, we can try to rebase, without merging any conflicting changes:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-23-1><a href=#__codelineno-23-1 id=__codelineno-23-1 name=__codelineno-23-1></a><span class=n>session2</span><span class=o>.</span><span class=n>rebase</span><span class=p>(</span><span class=n>icechunk</span><span class=o>.</span><span class=n>ConflictDetector</span><span class=p>())</span>
</span><span id=__span-23-2><a href=#__codelineno-23-2 id=__codelineno-23-2 name=__codelineno-23-2></a>
</span><span id=__span-23-3><a href=#__codelineno-23-3 id=__codelineno-23-3 name=__codelineno-23-3></a><span class=c1># ---------------------------------------------------------------------------</span>
</span><span id=__span-23-4><a href=#__codelineno-23-4 id=__codelineno-23-4 name=__codelineno-23-4></a><span class=c1># RebaseFailedError                         Traceback (most recent call last)</span>
</span><span id=__span-23-5><a href=#__codelineno-23-5 id=__codelineno-23-5 name=__codelineno-23-5></a><span class=c1># Cell In[8], line 1</span>
</span><span id=__span-23-6><a href=#__codelineno-23-6 id=__codelineno-23-6 name=__codelineno-23-6></a><span class=c1># ----&gt; 1 session2.rebase(icechunk.ConflictDetector())</span>
</span><span id=__span-23-7><a href=#__codelineno-23-7 id=__codelineno-23-7 name=__codelineno-23-7></a>
</span><span id=__span-23-8><a href=#__codelineno-23-8 id=__codelineno-23-8 name=__codelineno-23-8></a><span class=c1># File ~/Developer/icechunk/icechunk-python/python/icechunk/session.py:247, in Session.rebase(self, solver)</span>
</span><span id=__span-23-9><a href=#__codelineno-23-9 id=__codelineno-23-9 name=__codelineno-23-9></a><span class=c1>#     245     self._session.rebase(solver)</span>
</span><span id=__span-23-10><a href=#__codelineno-23-10 id=__codelineno-23-10 name=__codelineno-23-10></a><span class=c1>#     246 except PyRebaseFailedError as e:</span>
</span><span id=__span-23-11><a href=#__codelineno-23-11 id=__codelineno-23-11 name=__codelineno-23-11></a><span class=c1># --&gt; 247     raise RebaseFailedError(e) from None</span>
</span><span id=__span-23-12><a href=#__codelineno-23-12 id=__codelineno-23-12 name=__codelineno-23-12></a>
</span><span id=__span-23-13><a href=#__codelineno-23-13 id=__codelineno-23-13 name=__codelineno-23-13></a><span class=c1># RebaseFailedError: Rebase failed on snapshot AE9XS2ZWXT861KD2JGHG: 1 conflicts found</span>
</span></code></pre></div> <p>This however fails because both sessions modified the <code>foo</code> attribute on the root group. We can use the <code>ConflictError</code> to get more information about the conflict.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-24-1><a href=#__codelineno-24-1 id=__codelineno-24-1 name=__codelineno-24-1></a><span class=k>try</span><span class=p>:</span>
</span><span id=__span-24-2><a href=#__codelineno-24-2 id=__codelineno-24-2 name=__codelineno-24-2></a>    <span class=n>session2</span><span class=o>.</span><span class=n>rebase</span><span class=p>(</span><span class=n>icechunk</span><span class=o>.</span><span class=n>ConflictDetector</span><span class=p>())</span>
</span><span id=__span-24-3><a href=#__codelineno-24-3 id=__codelineno-24-3 name=__codelineno-24-3></a><span class=k>except</span> <span class=n>icechunk</span><span class=o>.</span><span class=n>RebaseFailedError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-24-4><a href=#__codelineno-24-4 id=__codelineno-24-4 name=__codelineno-24-4></a>    <span class=nb>print</span><span class=p>(</span><span class=n>e</span><span class=o>.</span><span class=n>conflicts</span><span class=p>)</span>
</span><span id=__span-24-5><a href=#__codelineno-24-5 id=__codelineno-24-5 name=__codelineno-24-5></a>
</span><span id=__span-24-6><a href=#__codelineno-24-6 id=__codelineno-24-6 name=__codelineno-24-6></a><span class=c1># [Conflict(UserAttributesDoubleUpdate, path=/)]</span>
</span></code></pre></div> <p>This tells us that the conflict is caused by the two sessions modifying the user attributes of the root group (<code>/</code>). In this casewe have decided that second session set the <code>foo</code> attribute to the correct value, so we can now try to rebase by instructing the <code>rebase</code> method to use the second session's changes with the <a href=../reference/#icechunk.BasicConflictSolver><code>BasicConflictSolver</code></a>.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-25-1><a href=#__codelineno-25-1 id=__codelineno-25-1 name=__codelineno-25-1></a><span class=n>session2</span><span class=o>.</span><span class=n>rebase</span><span class=p>(</span><span class=n>icechunk</span><span class=o>.</span><span class=n>BasicConflictSolver</span><span class=p>(</span><span class=n>on_user_attributes_conflict</span><span class=o>=</span><span class=n>icechunk</span><span class=o>.</span><span class=n>VersionSelection</span><span class=o>.</span><span class=n>UseOurs</span><span class=p>))</span>
</span></code></pre></div> <p>Success! We can now try and commit the changes again.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-26-1><a href=#__codelineno-26-1 id=__codelineno-26-1 name=__codelineno-26-1></a><span class=n>session2</span><span class=o>.</span><span class=n>commit</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=s2>"Update foo attribute on root group"</span><span class=p>)</span>
</span><span id=__span-26-2><a href=#__codelineno-26-2 id=__codelineno-26-2 name=__codelineno-26-2></a>
</span><span id=__span-26-3><a href=#__codelineno-26-3 id=__codelineno-26-3 name=__codelineno-26-3></a><span class=c1># 'SY4WRE8A9TVYMTJPEAHG'</span>
</span></code></pre></div> <p>This same process can be used to resolve conflicts with arrays. Let's try to modify the <code>data</code> array from both sessions.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-27-1><a href=#__codelineno-27-1 id=__codelineno-27-1 name=__codelineno-27-1></a><span class=n>session1</span> <span class=o>=</span> <span class=n>repo</span><span class=o>.</span><span class=n>writable_session</span><span class=p>(</span><span class=n>branch</span><span class=o>=</span><span class=s2>"main"</span><span class=p>)</span>
</span><span id=__span-27-2><a href=#__codelineno-27-2 id=__codelineno-27-2 name=__codelineno-27-2></a><span class=n>session2</span> <span class=o>=</span> <span class=n>repo</span><span class=o>.</span><span class=n>writable_session</span><span class=p>(</span><span class=n>branch</span><span class=o>=</span><span class=s2>"main"</span><span class=p>)</span>
</span><span id=__span-27-3><a href=#__codelineno-27-3 id=__codelineno-27-3 name=__codelineno-27-3></a>
</span><span id=__span-27-4><a href=#__codelineno-27-4 id=__codelineno-27-4 name=__codelineno-27-4></a><span class=n>root1</span> <span class=o>=</span> <span class=n>zarr</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=n>session1</span><span class=o>.</span><span class=n>store</span><span class=p>)</span>
</span><span id=__span-27-5><a href=#__codelineno-27-5 id=__codelineno-27-5 name=__codelineno-27-5></a><span class=n>root2</span> <span class=o>=</span> <span class=n>zarr</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=n>session2</span><span class=o>.</span><span class=n>store</span><span class=p>)</span>
</span><span id=__span-27-6><a href=#__codelineno-27-6 id=__codelineno-27-6 name=__codelineno-27-6></a>
</span><span id=__span-27-7><a href=#__codelineno-27-7 id=__codelineno-27-7 name=__codelineno-27-7></a><span class=n>root1</span><span class=p>[</span><span class=s2>"data"</span><span class=p>][</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
</span><span id=__span-27-8><a href=#__codelineno-27-8 id=__codelineno-27-8 name=__codelineno-27-8></a><span class=n>root2</span><span class=p>[</span><span class=s2>"data"</span><span class=p>][</span><span class=mi>0</span><span class=p>,:]</span> <span class=o>=</span> <span class=mi>2</span>
</span></code></pre></div> <p>We have now created a conflict, because the first session modified the first element of the <code>data</code> array, and the second session modified the first row of the <code>data</code> array. Let's commit the changes from the second session first, then see what conflicts are reported when we try to commit the changes from the first session.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-28-1><a href=#__codelineno-28-1 id=__codelineno-28-1 name=__codelineno-28-1></a><span class=nb>print</span><span class=p>(</span><span class=n>session2</span><span class=o>.</span><span class=n>commit</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=s2>"Update first row of data array"</span><span class=p>))</span>
</span><span id=__span-28-2><a href=#__codelineno-28-2 id=__codelineno-28-2 name=__codelineno-28-2></a><span class=nb>print</span><span class=p>(</span><span class=n>session1</span><span class=o>.</span><span class=n>commit</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=s2>"Update first element of data array"</span><span class=p>))</span>
</span><span id=__span-28-3><a href=#__codelineno-28-3 id=__codelineno-28-3 name=__codelineno-28-3></a>
</span><span id=__span-28-4><a href=#__codelineno-28-4 id=__codelineno-28-4 name=__codelineno-28-4></a><span class=c1># ---------------------------------------------------------------------------</span>
</span><span id=__span-28-5><a href=#__codelineno-28-5 id=__codelineno-28-5 name=__codelineno-28-5></a><span class=c1># ConflictError                             Traceback (most recent call last)</span>
</span><span id=__span-28-6><a href=#__codelineno-28-6 id=__codelineno-28-6 name=__codelineno-28-6></a><span class=c1># Cell In[15], line 2</span>
</span><span id=__span-28-7><a href=#__codelineno-28-7 id=__codelineno-28-7 name=__codelineno-28-7></a><span class=c1>#      1 print(session2.commit(message="Update first row of data array"))</span>
</span><span id=__span-28-8><a href=#__codelineno-28-8 id=__codelineno-28-8 name=__codelineno-28-8></a><span class=c1># ----&gt; 2 print(session1.commit(message="Update first element of data array"))</span>
</span><span id=__span-28-9><a href=#__codelineno-28-9 id=__codelineno-28-9 name=__codelineno-28-9></a>
</span><span id=__span-28-10><a href=#__codelineno-28-10 id=__codelineno-28-10 name=__codelineno-28-10></a><span class=c1># File ~/Developer/icechunk/icechunk-python/python/icechunk/session.py:224, in Session.commit(self, message, metadata)</span>
</span><span id=__span-28-11><a href=#__codelineno-28-11 id=__codelineno-28-11 name=__codelineno-28-11></a><span class=c1>#     222     return self._session.commit(message, metadata)</span>
</span><span id=__span-28-12><a href=#__codelineno-28-12 id=__codelineno-28-12 name=__codelineno-28-12></a><span class=c1>#     223 except PyConflictError as e:</span>
</span><span id=__span-28-13><a href=#__codelineno-28-13 id=__codelineno-28-13 name=__codelineno-28-13></a><span class=c1># --&gt; 224     raise ConflictError(e) from None</span>
</span><span id=__span-28-14><a href=#__codelineno-28-14 id=__codelineno-28-14 name=__codelineno-28-14></a>
</span><span id=__span-28-15><a href=#__codelineno-28-15 id=__codelineno-28-15 name=__codelineno-28-15></a><span class=c1># ConflictError: Failed to commit, expected parent: Some("SY4WRE8A9TVYMTJPEAHG"), actual parent: Some("5XRDGZPSG747AMMRTWT0")</span>
</span></code></pre></div> <p>Okay! We have a conflict. Lets see what conflicts are reported.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-29-1><a href=#__codelineno-29-1 id=__codelineno-29-1 name=__codelineno-29-1></a><span class=k>try</span><span class=p>:</span>
</span><span id=__span-29-2><a href=#__codelineno-29-2 id=__codelineno-29-2 name=__codelineno-29-2></a>    <span class=n>session1</span><span class=o>.</span><span class=n>rebase</span><span class=p>(</span><span class=n>icechunk</span><span class=o>.</span><span class=n>ConflictDetector</span><span class=p>())</span>
</span><span id=__span-29-3><a href=#__codelineno-29-3 id=__codelineno-29-3 name=__codelineno-29-3></a><span class=k>except</span> <span class=n>icechunk</span><span class=o>.</span><span class=n>RebaseFailedError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-29-4><a href=#__codelineno-29-4 id=__codelineno-29-4 name=__codelineno-29-4></a>    <span class=k>for</span> <span class=n>conflict</span> <span class=ow>in</span> <span class=n>e</span><span class=o>.</span><span class=n>conflicts</span><span class=p>:</span>
</span><span id=__span-29-5><a href=#__codelineno-29-5 id=__codelineno-29-5 name=__codelineno-29-5></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>"Conflict at </span><span class=si>{</span><span class=n>conflict</span><span class=o>.</span><span class=n>path</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>conflict</span><span class=o>.</span><span class=n>conflicted_chunks</span><span class=si>}</span><span class=s2>"</span><span class=p>)</span>
</span><span id=__span-29-6><a href=#__codelineno-29-6 id=__codelineno-29-6 name=__codelineno-29-6></a>
</span><span id=__span-29-7><a href=#__codelineno-29-7 id=__codelineno-29-7 name=__codelineno-29-7></a><span class=c1># Conflict at /data: [[0, 0]]</span>
</span></code></pre></div> <p>We get a clear indication of the conflict, and the chunks that are conflicting. In this case we have decided that the first session's changes are correct, so we can again use the <a href=../reference/#icechunk.BasicConflictSolver><code>BasicConflictSolver</code></a> to resolve the conflict.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-30-1><a href=#__codelineno-30-1 id=__codelineno-30-1 name=__codelineno-30-1></a><span class=n>session1</span><span class=o>.</span><span class=n>rebase</span><span class=p>(</span><span class=n>icechunk</span><span class=o>.</span><span class=n>BasicConflictSolver</span><span class=p>(</span><span class=n>on_chunk_conflict</span><span class=o>=</span><span class=n>icechunk</span><span class=o>.</span><span class=n>VersionSelection</span><span class=o>.</span><span class=n>UseOurs</span><span class=p>))</span>
</span><span id=__span-30-2><a href=#__codelineno-30-2 id=__codelineno-30-2 name=__codelineno-30-2></a><span class=n>session1</span><span class=o>.</span><span class=n>commit</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=s2>"Update first element of data array"</span><span class=p>)</span>
</span><span id=__span-30-3><a href=#__codelineno-30-3 id=__codelineno-30-3 name=__codelineno-30-3></a>
</span><span id=__span-30-4><a href=#__codelineno-30-4 id=__codelineno-30-4 name=__codelineno-30-4></a><span class=c1># 'R4WXW2CYNAZTQ3HXTNK0'</span>
</span></code></pre></div> <p>Success! We have now resolved the conflict and committed the changes.</p> <p>Let's look at the value of the <code>data</code> array to confirm that the conflict was resolved correctly.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-31-1><a href=#__codelineno-31-1 id=__codelineno-31-1 name=__codelineno-31-1></a><span class=n>session</span> <span class=o>=</span> <span class=n>repo</span><span class=o>.</span><span class=n>readonly_session</span><span class=p>(</span><span class=n>branch</span><span class=o>=</span><span class=s2>"main"</span><span class=p>)</span>
</span><span id=__span-31-2><a href=#__codelineno-31-2 id=__codelineno-31-2 name=__codelineno-31-2></a><span class=n>root</span> <span class=o>=</span> <span class=n>zarr</span><span class=o>.</span><span class=n>open_group</span><span class=p>(</span><span class=n>session</span><span class=o>.</span><span class=n>store</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=s2>"r"</span><span class=p>)</span>
</span><span id=__span-31-3><a href=#__codelineno-31-3 id=__codelineno-31-3 name=__codelineno-31-3></a><span class=n>root</span><span class=p>[</span><span class=s2>"data"</span><span class=p>][</span><span class=mi>0</span><span class=p>,:]</span>
</span><span id=__span-31-4><a href=#__codelineno-31-4 id=__codelineno-31-4 name=__codelineno-31-4></a>
</span><span id=__span-31-5><a href=#__codelineno-31-5 id=__codelineno-31-5 name=__codelineno-31-5></a><span class=c1># array([1, 2, 2, 2, 2, 2, 2, 2, 2, 2], dtype=int32)</span>
</span></code></pre></div> <p>Lastly, if you make changes to non-conflicting chunks or attributes, you can rebase without having to resolve any conflicts.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-32-1><a href=#__codelineno-32-1 id=__codelineno-32-1 name=__codelineno-32-1></a><span class=n>session1</span> <span class=o>=</span> <span class=n>repo</span><span class=o>.</span><span class=n>writable_session</span><span class=p>(</span><span class=n>branch</span><span class=o>=</span><span class=s2>"main"</span><span class=p>)</span>
</span><span id=__span-32-2><a href=#__codelineno-32-2 id=__codelineno-32-2 name=__codelineno-32-2></a><span class=n>session2</span> <span class=o>=</span> <span class=n>repo</span><span class=o>.</span><span class=n>writable_session</span><span class=p>(</span><span class=n>branch</span><span class=o>=</span><span class=s2>"main"</span><span class=p>)</span>
</span><span id=__span-32-3><a href=#__codelineno-32-3 id=__codelineno-32-3 name=__codelineno-32-3></a>
</span><span id=__span-32-4><a href=#__codelineno-32-4 id=__codelineno-32-4 name=__codelineno-32-4></a><span class=n>root1</span> <span class=o>=</span> <span class=n>zarr</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=n>session1</span><span class=o>.</span><span class=n>store</span><span class=p>)</span>
</span><span id=__span-32-5><a href=#__codelineno-32-5 id=__codelineno-32-5 name=__codelineno-32-5></a><span class=n>root2</span> <span class=o>=</span> <span class=n>zarr</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=n>session2</span><span class=o>.</span><span class=n>store</span><span class=p>)</span>
</span><span id=__span-32-6><a href=#__codelineno-32-6 id=__codelineno-32-6 name=__codelineno-32-6></a>
</span><span id=__span-32-7><a href=#__codelineno-32-7 id=__codelineno-32-7 name=__codelineno-32-7></a><span class=n>root1</span><span class=p>[</span><span class=s2>"data"</span><span class=p>][</span><span class=mi>3</span><span class=p>,:]</span> <span class=o>=</span> <span class=mi>3</span>
</span><span id=__span-32-8><a href=#__codelineno-32-8 id=__codelineno-32-8 name=__codelineno-32-8></a><span class=n>root2</span><span class=p>[</span><span class=s2>"data"</span><span class=p>][</span><span class=mi>4</span><span class=p>,:]</span> <span class=o>=</span> <span class=mi>4</span>
</span><span id=__span-32-9><a href=#__codelineno-32-9 id=__codelineno-32-9 name=__codelineno-32-9></a>
</span><span id=__span-32-10><a href=#__codelineno-32-10 id=__codelineno-32-10 name=__codelineno-32-10></a><span class=n>session1</span><span class=o>.</span><span class=n>commit</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=s2>"Update fourth row of data array"</span><span class=p>)</span>
</span><span id=__span-32-11><a href=#__codelineno-32-11 id=__codelineno-32-11 name=__codelineno-32-11></a>
</span><span id=__span-32-12><a href=#__codelineno-32-12 id=__codelineno-32-12 name=__codelineno-32-12></a><span class=k>try</span><span class=p>:</span>
</span><span id=__span-32-13><a href=#__codelineno-32-13 id=__codelineno-32-13 name=__codelineno-32-13></a>    <span class=n>session2</span><span class=o>.</span><span class=n>rebase</span><span class=p>(</span><span class=n>icechunk</span><span class=o>.</span><span class=n>ConflictDetector</span><span class=p>())</span>
</span><span id=__span-32-14><a href=#__codelineno-32-14 id=__codelineno-32-14 name=__codelineno-32-14></a>    <span class=nb>print</span><span class=p>(</span><span class=s2>"Rebase succeeded"</span><span class=p>)</span>
</span><span id=__span-32-15><a href=#__codelineno-32-15 id=__codelineno-32-15 name=__codelineno-32-15></a><span class=k>except</span> <span class=n>icechunk</span><span class=o>.</span><span class=n>RebaseFailedError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-32-16><a href=#__codelineno-32-16 id=__codelineno-32-16 name=__codelineno-32-16></a>    <span class=nb>print</span><span class=p>(</span><span class=n>e</span><span class=o>.</span><span class=n>conflicts</span><span class=p>)</span>
</span><span id=__span-32-17><a href=#__codelineno-32-17 id=__codelineno-32-17 name=__codelineno-32-17></a>
</span><span id=__span-32-18><a href=#__codelineno-32-18 id=__codelineno-32-18 name=__codelineno-32-18></a><span class=n>session2</span><span class=o>.</span><span class=n>commit</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=s2>"Update fifth row of data array"</span><span class=p>)</span>
</span><span id=__span-32-19><a href=#__codelineno-32-19 id=__codelineno-32-19 name=__codelineno-32-19></a>
</span><span id=__span-32-20><a href=#__codelineno-32-20 id=__codelineno-32-20 name=__codelineno-32-20></a><span class=c1># Rebase succeeded</span>
</span></code></pre></div> <p>And now we can see the data in the <code>data</code> array to confirm that the changes were committed correctly.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-33-1><a href=#__codelineno-33-1 id=__codelineno-33-1 name=__codelineno-33-1></a><span class=n>session</span> <span class=o>=</span> <span class=n>repo</span><span class=o>.</span><span class=n>readonly_session</span><span class=p>(</span><span class=n>branch</span><span class=o>=</span><span class=s2>"main"</span><span class=p>)</span>
</span><span id=__span-33-2><a href=#__codelineno-33-2 id=__codelineno-33-2 name=__codelineno-33-2></a><span class=n>root</span> <span class=o>=</span> <span class=n>zarr</span><span class=o>.</span><span class=n>open_group</span><span class=p>(</span><span class=n>session</span><span class=o>.</span><span class=n>store</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=s2>"r"</span><span class=p>)</span>
</span><span id=__span-33-3><a href=#__codelineno-33-3 id=__codelineno-33-3 name=__codelineno-33-3></a><span class=n>root</span><span class=p>[</span><span class=s2>"data"</span><span class=p>][:,:]</span>
</span><span id=__span-33-4><a href=#__codelineno-33-4 id=__codelineno-33-4 name=__codelineno-33-4></a>
</span><span id=__span-33-5><a href=#__codelineno-33-5 id=__codelineno-33-5 name=__codelineno-33-5></a><span class=c1># array([[1, 2, 2, 2, 2, 2, 2, 2, 2, 2],</span>
</span><span id=__span-33-6><a href=#__codelineno-33-6 id=__codelineno-33-6 name=__codelineno-33-6></a><span class=c1>#        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],</span>
</span><span id=__span-33-7><a href=#__codelineno-33-7 id=__codelineno-33-7 name=__codelineno-33-7></a><span class=c1>#        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],</span>
</span><span id=__span-33-8><a href=#__codelineno-33-8 id=__codelineno-33-8 name=__codelineno-33-8></a><span class=c1>#        [3, 3, 3, 3, 3, 3, 3, 3, 3, 3],</span>
</span><span id=__span-33-9><a href=#__codelineno-33-9 id=__codelineno-33-9 name=__codelineno-33-9></a><span class=c1>#        [4, 4, 4, 4, 4, 4, 4, 4, 4, 4],</span>
</span><span id=__span-33-10><a href=#__codelineno-33-10 id=__codelineno-33-10 name=__codelineno-33-10></a><span class=c1>#        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],</span>
</span><span id=__span-33-11><a href=#__codelineno-33-11 id=__codelineno-33-11 name=__codelineno-33-11></a><span class=c1>#        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],</span>
</span><span id=__span-33-12><a href=#__codelineno-33-12 id=__codelineno-33-12 name=__codelineno-33-12></a><span class=c1>#        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],</span>
</span><span id=__span-33-13><a href=#__codelineno-33-13 id=__codelineno-33-13 name=__codelineno-33-13></a><span class=c1>#        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],</span>
</span><span id=__span-33-14><a href=#__codelineno-33-14 id=__codelineno-33-14 name=__codelineno-33-14></a><span class=c1>#        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], dtype=int32)</span>
</span></code></pre></div> <h4 id=limitations>Limitations</h4> <p>At the moment, the rebase functionality is limited to resolving conflicts with attributes on arrays and groups, and conflicts with chunks in arrays. Other types of conflicts are not able to be resolved by icechunk yet and must be resolved manually.</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">January 31, 2025</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Contributors> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"></path></svg> </span> <nav> <a href=mailto:code@amisdelabc.com>Sebastián Galkin</a> </nav> </span> </aside> <form class=md-feedback hidden name=feedback> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" data-md-value=1 title="This page was helpful" type=submit> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"></path></svg> </button> <button class="md-feedback__icon md-icon" data-md-value=0 title="This page could be improved" type=submit> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"></path></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by using our <a href=https://share.hsforms.com/10yWXT95yS6mWXg3bc1e4PQdl5u6 rel=noopener target=_blank>feedback form</a>. </div> </div> </div> </fieldset> </form> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button class="md-top md-icon" data-md-component=top hidden type=button> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> Back to top </button> </main> <footer class=md-footer> <nav aria-label=Footer class="md-footer__inner md-grid"> <a aria-label="Previous: Dask" href=../dask/ class="md-footer__link md-footer__link--prev"> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Dask </div> </div> </a> <a aria-label="Next: Virtual Datasets" href=../virtual/ class="md-footer__link md-footer__link--next"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Virtual Datasets </div> </div> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright © 2025 <a href=https://earthmover.io target=_blank>Earthmover PBC</a> </div> </div> <div class=md-social> <a class=md-social__link href=https://github.com/earth-mover/icechunk rel=noopener target=_blank title=github.com> <svg viewbox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </a> <a class=md-social__link href=https://pypi.org/project/icechunk/ rel=noopener target=_blank title=pypi.org> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3"></path></svg> </a> <a class=md-social__link href=https://crates.io/crates/icechunk rel=noopener target=_blank title=crates.io> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m508.52 249.75-21.82-13.51c-.17-2-.34-3.93-.55-5.88l18.72-17.5a7.35 7.35 0 0 0-2.44-12.25l-24-9c-.54-1.88-1.08-3.78-1.67-5.64l15-20.83a7.35 7.35 0 0 0-4.79-11.54l-25.42-4.15c-.9-1.73-1.79-3.45-2.73-5.15l10.68-23.42a7.35 7.35 0 0 0-6.95-10.39l-25.82.91q-1.79-2.22-3.61-4.4L439 81.84a7.36 7.36 0 0 0-8.84-8.84L405 78.93q-2.17-1.83-4.4-3.61l.91-25.82a7.35 7.35 0 0 0-10.39-7L367.7 53.23c-1.7-.94-3.43-1.84-5.15-2.73l-4.15-25.42a7.35 7.35 0 0 0-11.54-4.79L326 35.26c-1.86-.59-3.75-1.13-5.64-1.67l-9-24a7.35 7.35 0 0 0-12.25-2.44l-17.5 18.72c-1.95-.21-3.91-.38-5.88-.55L262.25 3.48a7.35 7.35 0 0 0-12.5 0L236.24 25.3c-2 .17-3.93.34-5.88.55l-17.5-18.72a7.35 7.35 0 0 0-12.25 2.44l-9 24c-1.89.55-3.79 1.08-5.66 1.68l-20.82-15a7.35 7.35 0 0 0-11.54 4.79l-4.15 25.41c-1.73.9-3.45 1.79-5.16 2.73l-23.4-10.63a7.35 7.35 0 0 0-10.39 7l.92 25.81c-1.49 1.19-3 2.39-4.42 3.61L81.84 73A7.36 7.36 0 0 0 73 81.84L78.93 107c-1.23 1.45-2.43 2.93-3.62 4.41l-25.81-.91a7.42 7.42 0 0 0-6.37 3.26 7.35 7.35 0 0 0-.57 7.13l10.66 23.41c-.94 1.7-1.83 3.43-2.73 5.16l-25.41 4.14a7.35 7.35 0 0 0-4.79 11.54l15 20.82c-.59 1.87-1.13 3.77-1.68 5.66l-24 9a7.35 7.35 0 0 0-2.44 12.25l18.72 17.5c-.21 1.95-.38 3.91-.55 5.88l-21.86 13.5a7.35 7.35 0 0 0 0 12.5l21.82 13.51c.17 2 .34 3.92.55 5.87l-18.72 17.5a7.35 7.35 0 0 0 2.44 12.25l24 9c.55 1.89 1.08 3.78 1.68 5.65l-15 20.83a7.35 7.35 0 0 0 4.79 11.54l25.42 4.15c.9 1.72 1.79 3.45 2.73 5.14l-10.63 23.43a7.35 7.35 0 0 0 .57 7.13 7.13 7.13 0 0 0 6.37 3.26l25.83-.91q1.77 2.22 3.6 4.4L73 430.16a7.36 7.36 0 0 0 8.84 8.84l25.16-5.93q2.18 1.83 4.41 3.61l-.92 25.82a7.35 7.35 0 0 0 10.39 6.95l23.43-10.68c1.69.94 3.42 1.83 5.14 2.73l4.15 25.42a7.34 7.34 0 0 0 11.54 4.78l20.83-15c1.86.6 3.76 1.13 5.65 1.68l9 24a7.36 7.36 0 0 0 12.25 2.44l17.5-18.72c1.95.21 3.92.38 5.88.55l13.51 21.82a7.35 7.35 0 0 0 12.5 0l13.51-21.82c2-.17 3.93-.34 5.88-.56l17.5 18.73a7.36 7.36 0 0 0 12.25-2.44l9-24c1.89-.55 3.78-1.08 5.65-1.68l20.82 15a7.34 7.34 0 0 0 11.54-4.78l4.15-25.42c1.72-.9 3.45-1.79 5.15-2.73l23.42 10.68a7.35 7.35 0 0 0 10.39-6.95l-.91-25.82q2.22-1.79 4.4-3.61l25.15 5.93a7.36 7.36 0 0 0 8.84-8.84L433.07 405q1.83-2.17 3.61-4.4l25.82.91a7.23 7.23 0 0 0 6.37-3.26 7.35 7.35 0 0 0 .58-7.13l-10.68-23.42c.94-1.7 1.83-3.43 2.73-5.15l25.42-4.15a7.35 7.35 0 0 0 4.79-11.54l-15-20.83c.59-1.87 1.13-3.76 1.67-5.65l24-9a7.35 7.35 0 0 0 2.44-12.25l-18.72-17.5c.21-1.95.38-3.91.55-5.87l21.82-13.51a7.35 7.35 0 0 0 0-12.5Zm-151 129.08A13.91 13.91 0 0 0 341 389.51l-7.64 35.67a187.51 187.51 0 0 1-156.36-.74l-7.64-35.66a13.87 13.87 0 0 0-16.46-10.68l-31.51 6.76a187 187 0 0 1-16.26-19.21H258.3c1.72 0 2.89-.29 2.89-1.91v-54.19c0-1.57-1.17-1.91-2.89-1.91h-44.83l.05-34.35H262c4.41 0 23.66 1.28 29.79 25.87 1.91 7.55 6.17 32.14 9.06 40 2.89 8.82 14.6 26.46 27.1 26.46H407a187 187 0 0 1-17.34 20.09Zm25.77 34.49A15.24 15.24 0 1 1 368 398.08h.44a15.23 15.23 0 0 1 14.8 15.24Zm-225.62-.68a15.24 15.24 0 1 1-15.25-15.25h.45a15.25 15.25 0 0 1 14.75 15.25Zm-88.1-178.49 32.83-14.6a13.88 13.88 0 0 0 7.06-18.33L102.69 186h26.56v119.73h-53.6a187.7 187.7 0 0 1-6.08-71.58m-11.26-36.06a15.24 15.24 0 0 1 15.23-15.25H74a15.24 15.24 0 1 1-15.67 15.24Zm155.16 24.49.05-35.32h63.26c3.28 0 23.07 3.77 23.07 18.62 0 12.29-15.19 16.7-27.68 16.7ZM399 306.71c-9.8 1.13-20.63-4.12-22-10.09-5.78-32.49-15.39-39.4-30.57-51.4 18.86-11.95 38.46-29.64 38.46-53.26 0-25.52-17.49-41.59-29.4-49.48-16.76-11-35.28-13.23-40.27-13.23h-198.9a187.5 187.5 0 0 1 104.89-59.19l23.47 24.6a13.82 13.82 0 0 0 19.6.44l26.26-25a187.51 187.51 0 0 1 128.37 91.43l-18 40.57a14 14 0 0 0 7.09 18.33l34.59 15.33a187 187 0 0 1 .4 32.54h-19.28c-1.91 0-2.69 1.27-2.69 3.13v8.82C421 301 409.31 305.58 399 306.71M240 60.21A15.24 15.24 0 0 1 255.21 45h.45A15.24 15.24 0 1 1 240 60.21M436.84 214a15.24 15.24 0 1 1 0-30.48h.44a15.24 15.24 0 0 1-.44 30.48"></path></svg> </a> <a class=md-social__link href=https://join.slack.com/t/earthmover-community/shared_invite/zt-2cwje92ir-xU3CfdG8BI~4CJOJy~sceQ rel=noopener target=_blank title=join.slack.com> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1s21.16-47.06 47.06-47.06h47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06S448 171 448 196.9s-21.16 47.06-47.06 47.06h-47.06zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06S309 480 283.1 480s-47.06-21.16-47.06-47.06v-47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06s21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06z"></path></svg> </a> <a class=md-social__link href=https://x.com/earthmoverhq rel=noopener target=_blank title=x.com> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"></path></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <div class=md-consent data-md-component=consent hidden id=__consent> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle id=__settings type=checkbox> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input checked name=analytics type=checkbox> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input checked name=github type=checkbox> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.tracking", "navigation.indexes", "navigation.footer", "navigation.tabs", "navigation.tabs.sticky", "toc.follow", "navigation.top", "announce.dismiss", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.525ec568.min.js></script> <script src=../../scripts/readthedocs.js></script> <script src=/js/open_in_new_tab.js></script> <script type=module>import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
window.mermaidConfig = {default: {
    startOnLoad: false
}};</script></body> </html>